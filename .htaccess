# Disable directory listing to prevent 403 Forbidden errors
Options -Indexes

# Set the default index to something that doesn't exist to force the proxy to work
# or just disable it entirely
DirectoryIndex disabled

# Hostinger Node.js selector usually handles the proxy automatically.
# This .htaccess is designed to stay out of the way while ensuring
# that sensitive files aren't served as text.

<IfModule mod_rewrite.c>
    RewriteEngine On

    # Prevent direct access to server.js source code
    RewriteRule ^server\.js$ - [F,L]

    # If it's a real file or directory in public/, serve it
    RewriteCond %{DOCUMENT_ROOT}/public/%{REQUEST_URI} -f
    RewriteRule ^(.*)$ /public/$1 [L]

    # Otherwise, let the Node.js process handle it.
    # On Hostinger, the proxying is done at a higher level, 
    # so we don't need to specify a RewriteRule here that might conflict.
</IfModule>
