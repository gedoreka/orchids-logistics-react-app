(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5466],{3998:(e,s,a)=>{"use strict";a.d(s,{$:()=>o});var t=a(95155);a(12115);var r=a(32467),i=a(83101),l=a(64269);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:s,variant:a,size:i,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,t.jsx)(d,{"data-slot":"button",className:(0,l.cn)(n({variant:a,size:i,className:s})),...c})}},11647:(e,s,a)=>{"use strict";a.d(s,{E:()=>o});var t=a(95155);a(12115);var r=a(32467),i=a(83101),l=a(64269);let n=(0,i.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:s,variant:a,asChild:i=!1,...o}=e,c=i?r.DX:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(n({variant:a}),s),...o})}},27297:(e,s,a)=>{"use strict";a.d(s,{ExpensesClient:()=>P});var t=a(95155),r=a(88661),i=a.n(r),l=a(12115),n=a(34544),o=a(20063),c=a(26921),d=a(42041),x=a(91169),b=a(53409),f=a(19408),h=a(27937),m=a(16485),u=a(90368),p=a(46826),g=a(19985),v=a(87454),j=a(54485),w=a(75882),N=a(89715),y=a(37965),k=a(86948),A=a(3998),C=a(11647),_=a(83884);function P(e){let{companyId:s,companyInfo:a,stats:r,recentActivity:P,currentMonth:z}=e,D=(0,o.useRouter)(),E=(0,_.c)("expenses"),[S,T]=(0,l.useState)(z),R={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},F=e=>{let[s,a]=S.split("-").map(Number),t="prev"===e?a-1:a+1,r=s;t<1?(t=12,r--):t>12&&(t=1,r++);let i="".concat(r,"-").concat(String(t).padStart(2,"0"));T(i),D.push("/expenses?month=".concat(i))},H=[{label:E("dashboard.totalExpenses"),value:r.expenses,icon:c.A,gradient:"from-blue-500 to-blue-600",bgColor:"bg-blue-500/10",textColor:"text-blue-400"},{label:E("dashboard.totalDeductions"),value:r.deductions,icon:d.A,gradient:"from-rose-500 to-rose-600",bgColor:"bg-rose-500/10",textColor:"text-rose-400"},{label:E("dashboard.totalSalaries"),value:r.payrolls,icon:x.A,gradient:"from-amber-500 to-amber-600",bgColor:"bg-amber-500/10",textColor:"text-amber-400"},{label:E("dashboard.grandTotal"),value:r.total,icon:b.A,gradient:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-500/10",textColor:"text-emerald-400"}];return(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 min-h-screen p-4 md:p-6 font-tajawal w-full overflow-x-hidden",children:[(0,t.jsx)(n.P.div,{className:"w-full",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},children:(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 bg-[#1a2234] rounded-[3rem] p-6 md:p-8 shadow-2xl border border-white/5",children:(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 space-y-6",children:[(0,t.jsxs)(n.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-[#1e293b] via-[#334155] to-[#1e293b] p-8 text-white shadow-2xl border border-white/10",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-emerald-500 via-rose-500 via-amber-500 via-purple-500 to-blue-500 animate-gradient-x"}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 relative z-10",children:[(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex items-center gap-5",children:[a.logo_path?(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-16 h-16 rounded-2xl bg-white p-1.5 shadow-2xl",children:(0,t.jsx)("img",{src:a.logo_path,alt:"Logo",className:"jsx-17089a4c54b92ff9 w-full h-full rounded-xl object-cover"})}):(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center shadow-2xl border border-white/10",children:(0,t.jsx)(f.A,{className:"w-8 h-8 text-blue-400"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 space-y-1",children:[(0,t.jsx)("h1",{className:"jsx-17089a4c54b92ff9 text-2xl md:text-3xl font-black tracking-tight bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent",children:E("dashboard.title")}),(0,t.jsx)("p",{className:"jsx-17089a4c54b92ff9 text-sm font-medium text-slate-300",children:a.name||"Company Name"})]})]}),(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 flex items-center gap-3",children:(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex items-center bg-white/10 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>F("next"),className:"jsx-17089a4c54b92ff9 p-3 hover:bg-white/10 transition-colors",children:(0,t.jsx)(h.A,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 px-5 py-2 flex items-center gap-2 min-w-[160px] justify-center",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{className:"jsx-17089a4c54b92ff9 font-bold text-white text-sm",children:(e=>{let[s,a]=e.split("-");return"".concat(["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"][parseInt(a)-1]," ").concat(s)})(S)})]}),(0,t.jsx)("button",{onClick:()=>F("prev"),className:"jsx-17089a4c54b92ff9 p-3 hover:bg-white/10 transition-colors",children:(0,t.jsx)(u.A,{className:"w-5 h-5 text-white"})})]})})]}),(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 grid grid-cols-2 lg:grid-cols-4 gap-4 mt-8",children:H.map((e,s)=>(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 "+"".concat(e.bgColor," backdrop-blur-md rounded-2xl p-4 border border-white/5 text-center group hover:scale-[1.02] transition-transform"),children:(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 "+"p-2.5 rounded-xl bg-gradient-to-br ".concat(e.gradient," shadow-lg"),children:(0,t.jsx)(e.icon,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{className:"jsx-17089a4c54b92ff9 text-2xl font-black text-white tabular-nums",children:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.value)}),(0,t.jsx)("span",{className:"jsx-17089a4c54b92ff9 "+"text-[10px] font-bold ".concat(e.textColor," uppercase tracking-wider"),children:e.label})]})},s))})]}),(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute -bottom-12 -right-12 w-48 h-48 bg-blue-500/10 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute -top-12 -left-12 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl"})]}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(n.P.button,{variants:R,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D.push("/expenses/new"),className:"relative group overflow-hidden rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 p-5 shadow-lg hover:shadow-xl transition-all",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute inset-0 bg-gradient-to-br from-blue-400 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 text-start",children:[(0,t.jsx)("h3",{className:"jsx-17089a4c54b92ff9 text-lg font-bold text-white",children:E("dashboard.addExpense")}),(0,t.jsx)("p",{className:"jsx-17089a4c54b92ff9 text-xs text-blue-100",children:E("dashboard.newMonthlyExpense")})]})]})]}),(0,t.jsxs)(n.P.button,{variants:R,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D.push("/expenses/deductions"),className:"relative group overflow-hidden rounded-2xl bg-gradient-to-br from-rose-500 to-rose-600 p-5 shadow-lg hover:shadow-xl transition-all",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute inset-0 bg-gradient-to-br from-rose-400 to-rose-700 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 text-start",children:[(0,t.jsx)("h3",{className:"jsx-17089a4c54b92ff9 text-lg font-bold text-white",children:E("dashboard.addDeduction")}),(0,t.jsx)("p",{className:"jsx-17089a4c54b92ff9 text-xs text-rose-100",children:E("dashboard.newMonthlyDeduction")})]})]})]}),(0,t.jsxs)(n.P.button,{variants:R,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D.push("/expenses/report"),className:"relative group overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-500 to-emerald-600 p-5 shadow-lg hover:shadow-xl transition-all",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute inset-0 bg-gradient-to-br from-emerald-400 to-emerald-700 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 text-start",children:[(0,t.jsx)("h3",{className:"jsx-17089a4c54b92ff9 text-lg font-bold text-white",children:E("dashboard.expensesReport")}),(0,t.jsx)("p",{className:"jsx-17089a4c54b92ff9 text-xs text-emerald-100",children:E("dashboard.viewMonthlyReport")})]})]})]}),(0,t.jsxs)(n.P.button,{variants:R,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D.push("/expenses/analysis"),className:"relative group overflow-hidden rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 p-5 shadow-lg hover:shadow-xl transition-all",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 absolute inset-0 bg-gradient-to-br from-purple-400 to-purple-700 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:(0,t.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 text-start",children:[(0,t.jsx)("h3",{className:"jsx-17089a4c54b92ff9 text-lg font-bold text-white",children:E("dashboard.analytics")}),(0,t.jsx)("p",{className:"jsx-17089a4c54b92ff9 text-xs text-purple-100",children:E("dashboard.expenseAnalysis")})]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(n.P.div,{className:"lg:col-span-2 space-y-4",variants:R,children:[(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex items-center justify-between px-2",children:[(0,t.jsxs)("h2",{className:"jsx-17089a4c54b92ff9 text-xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(j.A,{className:"w-6 h-6 text-blue-400"}),E("dashboard.recentActivity")]}),(0,t.jsx)(A.$,{variant:"ghost",className:"text-blue-400 font-bold hover:bg-white/10 h-8 text-sm",children:E("dashboard.viewAll")})]}),(0,t.jsx)(k.Zp,{className:"border-none shadow-xl rounded-[2rem] overflow-hidden bg-white/90 backdrop-blur-xl",children:(0,t.jsx)(k.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 divide-y divide-slate-100",children:P.length>0?P.map((e,s)=>(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 p-4 flex items-center justify-between hover:bg-slate-50/50 transition-colors group",children:[(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-10 h-10 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300 shadow-sm",children:(0,t.jsx)(w.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 space-y-0.5 text-start",children:[(0,t.jsx)("h4",{className:"jsx-17089a4c54b92ff9 font-bold text-slate-800 text-sm",children:e.expense_type}),(0,t.jsxs)("p",{className:"jsx-17089a4c54b92ff9 text-xs text-slate-500 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"jsx-17089a4c54b92ff9",children:e.employee_name}),(0,t.jsx)("span",{className:"jsx-17089a4c54b92ff9 w-1 h-1 rounded-full bg-slate-300"}),(0,t.jsxs)("span",{className:"jsx-17089a4c54b92ff9 font-bold text-blue-600",children:[new Intl.NumberFormat("en-US").format(e.amount)," SAR"]})]})]})]}),(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 text-end",children:(0,t.jsxs)(C.E,{variant:"secondary",className:"font-bold px-3 py-1 rounded-lg flex items-center gap-1 bg-slate-100 text-slate-600 border-none text-[10px]",children:[(0,t.jsx)(m.A,{className:"w-3 h-3"}),new Date(e.expense_date).toLocaleDateString("en-US")]})})]},s)):(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 p-12 text-center space-y-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto text-slate-300",children:(0,t.jsx)(j.A,{className:"w-8 h-8"})}),(0,t.jsx)("p",{className:"jsx-17089a4c54b92ff9 text-slate-400 font-medium text-sm",children:E("dashboard.noActivity")})]})})})})]}),(0,t.jsxs)(n.P.div,{className:"space-y-4",variants:R,children:[(0,t.jsxs)("h2",{className:"jsx-17089a4c54b92ff9 text-xl font-bold text-white flex items-center gap-3 px-2",children:[(0,t.jsx)(p.A,{className:"w-6 h-6 text-rose-400"}),E("dashboard.quickActions")]}),(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 grid grid-cols-1 gap-3",children:[{label:E("dashboard.addExpense"),icon:p.A,color:"text-blue-600",bg:"bg-blue-50",link:"/expenses/new"},{label:E("dashboard.addDeduction"),icon:d.A,color:"text-rose-600",bg:"bg-rose-50",link:"/expenses/deductions"},{label:E("dashboard.expensesReport"),icon:N.A,color:"text-emerald-600",bg:"bg-emerald-50",link:"/expenses/report"},{label:E("dashboard.deductionsReport"),icon:g.A,color:"text-amber-600",bg:"bg-amber-50",link:"/expenses/report?type=deductions"}].map((e,s)=>(0,t.jsxs)(n.P.button,{whileHover:{x:5},className:"flex items-center justify-between p-4 bg-white shadow-md hover:shadow-lg rounded-2xl transition-all group w-full text-start border border-slate-100",onClick:()=>D.push(e.link),children:[(0,t.jsxs)("div",{className:"jsx-17089a4c54b92ff9 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"jsx-17089a4c54b92ff9 "+"p-2.5 rounded-xl ".concat(e.bg," ").concat(e.color," group-hover:scale-110 transition-transform"),children:(0,t.jsx)(e.icon,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"jsx-17089a4c54b92ff9 font-bold text-slate-700 text-sm",children:e.label})]}),(0,t.jsx)(y.A,{className:"w-4 h-4 text-slate-300 group-hover:text-blue-600 transition-colors"})]},s))})]})]})]})})}),(0,t.jsx)(i(),{id:"17089a4c54b92ff9",children:'@import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&display=swap");.font-tajawal{font-family:"Tajawal",sans-serif}@keyframes gradient-x{0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}.animate-gradient-x{background-size:200%100%;animation:gradient-x 3s ease infinite}'})]})}},64269:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(2821),r=a(75889);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},86948:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>l});var t=a(95155);a(12115);var r=a(64269);function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function o(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}},90086:(e,s,a)=>{Promise.resolve().then(a.bind(a,27297))}},e=>{e.O(0,[2418,4909,5576,3884,8441,1255,7358],()=>e(e.s=90086)),_N_E=e.O()}]);