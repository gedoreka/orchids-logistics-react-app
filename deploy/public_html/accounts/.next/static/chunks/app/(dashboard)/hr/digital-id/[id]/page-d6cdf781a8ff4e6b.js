(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4306],{40926:(e,a,s)=>{"use strict";s.d(a,{DigitalIdClient:()=>z});var t=s(95155),r=s(88661),i=s.n(r);s(12115);var l=s(34544),d=s(59384),n=s(52987),c=s(27937),x=s(309),o=s(90368),f=s(71871),h=s(931),j=s(37107),m=s(39068),p=s(26617),g=s(69141),b=s(23664),u=s(24947),v=s(52056),y=s(65993),N=s(61362),w=s(52619),k=s.n(w);function z(e){var a;let{employee:s,allEmployees:r}=e,w=r.findIndex(e=>e.id===s.id),z=w>0?r[w-1]:null,C=w<r.length-1?r[w+1]:null,I=(a=s.iqama_expiry)?Math.round((new Date(a).getTime()-new Date().getTime())/864e5):null;return(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 space-y-6 pb-20 max-w-[1800px] mx-auto px-4 print:p-0 print:max-w-full",children:[(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex flex-col md:flex-row md:items-center justify-between gap-4 print:hidden",children:[(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex items-center gap-2 text-sm font-bold text-gray-400",children:[(0,t.jsxs)(k(),{href:"/hr",className:"hover:text-[#9b59b6] transition-colors flex items-center gap-1",children:[(0,t.jsx)(d.A,{size:14}),"شؤون الموظفين"]}),(0,t.jsx)(n.A,{size:14}),(0,t.jsx)("span",{className:"jsx-e8f22ad691af5776 text-[#9b59b6]",children:"الهوية الرقمية"})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex items-center gap-2",children:[z&&(0,t.jsx)(k(),{href:"/hr/digital-id/".concat(z.id),children:(0,t.jsxs)("button",{className:"jsx-e8f22ad691af5776 h-10 px-4 rounded-xl bg-white border border-gray-100 text-xs font-black text-gray-500 hover:border-[#9b59b6] hover:text-[#9b59b6] transition-all flex items-center gap-2 shadow-sm",children:[(0,t.jsx)(c.A,{size:16}),"الموظف السابق"]})}),(0,t.jsxs)("button",{onClick:()=>{window.print()},className:"jsx-e8f22ad691af5776 h-10 px-5 rounded-xl bg-gray-900 text-white text-xs font-black shadow-lg shadow-gray-900/20 hover:bg-black transition-all flex items-center gap-2",children:[(0,t.jsx)(x.A,{size:16}),"طباعة البطاقة"]}),C&&(0,t.jsx)(k(),{href:"/hr/digital-id/".concat(C.id),children:(0,t.jsxs)("button",{className:"jsx-e8f22ad691af5776 h-10 px-4 rounded-xl bg-white border border-gray-100 text-xs font-black text-gray-500 hover:border-[#9b59b6] hover:text-[#9b59b6] transition-all flex items-center gap-2 shadow-sm",children:["الموظف التالي",(0,t.jsx)(o.A,{size:16})]})})]})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 id-card-print-container relative",children:[(0,t.jsxs)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-[2.5rem] shadow-2xl border-8 border-white overflow-hidden relative",children:[(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 absolute top-0 inset-x-0 h-40 bg-gradient-to-br from-[#2c3e50] to-[#34495e]"}),(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 absolute top-0 inset-x-0 h-2 bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 z-20"}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 relative z-10 p-8 space-y-8",children:[(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex flex-col items-center text-center space-y-4",children:[(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 h-20 w-24 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 p-2 flex items-center justify-center",children:s.company_logo?(0,t.jsx)("img",{src:s.company_logo,alt:s.company_name,className:"jsx-e8f22ad691af5776 h-full w-full object-contain"}):(0,t.jsx)(f.A,{size:32,className:"text-white/50"})}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 space-y-1",children:[(0,t.jsx)("h2",{className:"jsx-e8f22ad691af5776 text-2xl font-black text-white tracking-tight uppercase",children:s.company_name}),(0,t.jsx)("p",{className:"jsx-e8f22ad691af5776 text-blue-300/70 text-[10px] font-black uppercase tracking-[0.3em]",children:"Employee Identification Card"})]})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex flex-col md:flex-row items-center gap-10 bg-gray-50/50 rounded-[2rem] p-8 border border-gray-100/50",children:[(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 relative group",children:[(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 h-56 w-48 rounded-[2rem] bg-white p-1 shadow-2xl border-2 border-yellow-400/30 overflow-hidden relative z-10",children:(0,t.jsx)("img",{src:(e=>{if(!e)return null;if(e.startsWith("http"))return e;let a=e.startsWith("/")?e.slice(1):e;return e.includes("supabase")?e:"https://accounts.zoolspeed.com/".concat(a)})(s.personal_photo)||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(s.name),"&background=2c3e50&color=fff&size=256"),alt:s.name,className:"jsx-e8f22ad691af5776 h-full w-full object-cover rounded-[1.75rem]"})}),(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 absolute -inset-4 bg-yellow-400/10 rounded-[2.5rem] blur-2xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex-1 space-y-6 text-center md:text-right",children:[(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 space-y-1",children:[(0,t.jsx)("h3",{className:"jsx-e8f22ad691af5776 text-3xl font-black text-gray-900 tracking-tight",children:s.name}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex items-center justify-center md:justify-start gap-3",children:[(0,t.jsx)("span",{className:"jsx-e8f22ad691af5776 px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-wider",children:s.job_title||"موظف"}),(0,t.jsx)("span",{className:"jsx-e8f22ad691af5776 "+"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ".concat(1===s.is_active?"bg-green-50 text-green-600":"bg-orange-50 text-orange-600"),children:1===s.is_active?"نشط":"في إجازة"})]})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsx)(_,{icon:(0,t.jsx)(h.A,{size:14}),label:"رقم الإقامة",value:s.iqama_number}),(0,t.jsx)(_,{icon:(0,t.jsx)(j.A,{size:14}),label:"الرقم الوظيفي",value:s.user_code}),(0,t.jsx)(_,{icon:(0,t.jsx)(m.A,{size:14}),label:"الجنسية",value:s.nationality}),(0,t.jsx)(_,{icon:(0,t.jsx)(p.A,{size:14}),label:"الباقة",value:s.group_name})]})]})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsx)(A,{icon:(0,t.jsx)(g.A,{size:14}),label:"الجوال",value:s.phone}),(0,t.jsx)(A,{icon:(0,t.jsx)(b.A,{size:14}),label:"البريد",value:s.email}),(0,t.jsx)(A,{icon:(0,t.jsx)(u.A,{size:14}),label:"المركبة",value:s.vehicle_plate})]}),null!==I&&I<=30&&(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 "+"p-4 rounded-2xl border flex items-center gap-4 animate-pulse ".concat(I<=0?"bg-red-50 border-red-100 text-red-600":"bg-orange-50 border-orange-100 text-orange-600"),children:[(0,t.jsx)(v.A,{size:24}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 text-right",children:[(0,t.jsx)("p",{className:"jsx-e8f22ad691af5776 text-xs font-black uppercase tracking-tight",children:"تنبيه صلاحية الإقامة"}),(0,t.jsx)("p",{className:"jsx-e8f22ad691af5776 text-sm font-bold",children:I<=0?"منتهية منذ ".concat(Math.abs(I)," يوم"):"ستنتهي خلال ".concat(I," يوم")})]})]}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 pt-4 flex justify-between items-center print:hidden",children:[(0,t.jsx)(k(),{href:"/hr",children:(0,t.jsxs)("button",{className:"jsx-e8f22ad691af5776 h-12 px-6 rounded-2xl bg-gray-50 text-gray-400 text-xs font-black hover:bg-gray-100 transition-all flex items-center gap-2",children:[(0,t.jsx)(y.A,{size:16}),"الرئيسية"]})}),(0,t.jsxs)("div",{className:"jsx-e8f22ad691af5776 flex items-center gap-2 text-[10px] font-black text-gray-300 uppercase tracking-widest",children:[(0,t.jsx)(N.A,{size:12}),"Verified Digital Identity"]})]})]}),(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 h-4 bg-gradient-to-r from-[#2c3e50] via-[#3498db] to-[#2c3e50]"})]}),(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 absolute top-4 right-4 z-20 opacity-10",children:(0,t.jsx)("div",{className:"jsx-e8f22ad691af5776 h-16 w-16 bg-black rounded-lg"})})]}),(0,t.jsx)(i(),{id:"e8f22ad691af5776",children:"@media print{body{background:white!important;margin:0;padding:0}.id-card-print-container{transform:scale(.9);transform-origin:top center}header,footer,nav,.print\\\\:hidden{display:none!important}}"})]})}function _(e){let{icon:a,label:s,value:r}=e;return(0,t.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl p-3 shadow-sm flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:a}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tight",children:s}),(0,t.jsx)("p",{className:"text-xs font-black text-gray-900",children:r||"---"})]})]})}function A(e){let{icon:a,label:s,value:r}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-gray-50 border border-gray-100 group hover:bg-white hover:border-[#3498db]/30 transition-all",children:[(0,t.jsx)("div",{className:"text-gray-300 group-hover:text-[#3498db] transition-colors",children:a}),(0,t.jsxs)("div",{className:"text-right truncate",children:[(0,t.jsx)("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:s}),(0,t.jsx)("p",{className:"text-[10px] font-black text-gray-900 truncate",children:r||"---"})]})]})}},54695:(e,a,s)=>{Promise.resolve().then(s.bind(s,40926))}},e=>{e.O(0,[2418,2619,305,8441,1255,7358],()=>e(e.s=54695)),_N_E=e.O()}]);