(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var s=a(95155);a(12115);var r=a(32467),l=a(83101),n=a(64269);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:l,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,n.cn)(i({variant:a,size:l,className:t})),...d})}},11186:(e,t,a)=>{"use strict";a.d(t,{bq:()=>x,eb:()=>u,gC:()=>m,l6:()=>d,yv:()=>c});var s=a(95155);a(12115);var r=a(14744),l=a(24033),n=a(5917),i=a(12108),o=a(64269);function d(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function x(e){let{className:t,size:a="default",children:n,...i}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[n,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:a,position:l="popper",align:n="center",...i}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,align:n,...i,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(b,{})]})})}function u(e){let{className:t,children:a,...l}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...l,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(n.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"size-4"})})}function b(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(l.A,{className:"size-4"})})}},11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var s=a(95155);a(12115);var r=a(32467),l=a(83101),n=a(64269);let i=(0,l.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,asChild:l=!1,...o}=e,d=l?r.DX:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(i({variant:a}),t),...o})}},40971:(e,t,a)=>{Promise.resolve().then(a.bind(a,42009))},42009:(e,t,a)=>{"use strict";a.d(t,{TrialBalanceClient:()=>U});var s=a(95155),r=a(12115),l=a(75882),n=a(91169),i=a(47937),o=a(85843),d=a(19408),c=a(61362),x=a(52056),m=a(79397),u=a(89559),h=a(24722),b=a(309),p=a(1524),g=a(26921),f=a(50906),v=a(80534),j=a(86651),y=a(66955),N=a(12108),w=a(24033),k=a(65229),B=a(89715),C=a(86948),A=a(3998),D=a(65142),z=a(11647),_=a(83884),S=a(11186),F=a(26991),L=a(98128),M=a(68425),T=a(47734),E=a(73697),R=a(23508),Z=a(7620),$=a(16533),q=a(78765),W=a(12235),K=a(69386);let P=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function U(e){let{companyId:t,companyInfo:a}=e,{t:U,locale:V}=(0,_.Y)(),[I,O]=(0,r.useState)([]),[H,X]=(0,r.useState)(!0),[Q,Y]=(0,r.useState)(!1),[G,J]=(0,r.useState)({totalDebit:0,totalCredit:0,difference:0,isBalanced:!1,accountsCount:0}),[ee,et]=(0,r.useState)({typeDistribution:[]}),[ea,es]=(0,r.useState)({fromDate:"",toDate:"",entryType:"all",search:""}),[er,el]=(0,r.useState)(!1),[en,ei]=(0,r.useState)(1),[eo,ed]=(0,r.useState)(20),[ec,ex]=(0,r.useState)({key:"type",direction:"asc"}),em={[U("trialBalance.expenses")]:"#ef4444",[U("trialBalance.payrolls")]:"#3b82f6",[U("trialBalance.journals")]:"#10b981"},eu={[U("trialBalance.expenses")]:l.A,[U("trialBalance.payrolls")]:n.A,[U("trialBalance.journals")]:i.A},eh=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?Y(!0):X(!0);let t=new URLSearchParams;ea.fromDate&&t.set("from_date",ea.fromDate),ea.toDate&&t.set("to_date",ea.toDate),"all"!==ea.entryType&&t.set("entry_type",ea.entryType);let a=await fetch("/api/trial-balance?".concat(t.toString())),s=await a.json();if(s.error)return void console.error(s.error);O(s.balances||[]),J(s.stats||{}),et(s.chartData||{typeDistribution:[]})}catch(e){console.error("Error fetching trial balance data:",e)}finally{X(!1),Y(!1)}},[ea]);(0,r.useEffect)(()=>{eh()},[eh]),(0,r.useEffect)(()=>{let e=setInterval(()=>{eh(!0)},6e4);return()=>clearInterval(e)},[eh]);let eb=(0,r.useMemo)(()=>{if(!ea.search)return I;let e=ea.search.toLowerCase();return I.filter(t=>t.account_code.toLowerCase().includes(e)||t.account_name.toLowerCase().includes(e)||t.type.toLowerCase().includes(e))},[I,ea.search]),ep=(0,r.useMemo)(()=>[...eb].sort((e,t)=>{let a=e[ec.key],s=t[ec.key];if("number"==typeof a&&"number"==typeof s)return"asc"===ec.direction?a-s:s-a;let r=String(a||""),l=String(s||"");return"asc"===ec.direction?r.localeCompare(l):l.localeCompare(r)}),[eb,ec]),eg=(0,r.useMemo)(()=>{let e=(en-1)*eo;return ep.slice(e,e+eo)},[ep,en,eo]),ef=Math.ceil(eb.length/eo),ev=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return H?(0,s.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500/30 border-t-blue-500 animate-spin"}),(0,s.jsx)(o.A,{className:"w-8 h-8 text-blue-500 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,s.jsx)("p",{className:"text-slate-600 font-bold text-lg",children:U("trialBalance.loading")})]})}):(0,s.jsx)("div",{className:"p-4 md:p-6",dir:"ar"===V?"rtl":"ltr",children:(0,s.jsxs)(C.Zp,{className:"border-none shadow-2xl rounded-[2rem] overflow-hidden bg-[#1a2234] p-4 md:p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-[2rem] bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] text-white shadow-2xl border border-white/10 print:hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-emerald-500/20 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"})]}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 via-blue-500 to-amber-500"}),(0,s.jsxs)("div",{className:"relative z-10 p-6 md:p-8",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsxs)("div",{className:"relative",children:[a.logo_path?(0,s.jsx)("img",{src:a.logo_path,alt:"Logo",className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl border-2 border-white/20 object-cover shadow-2xl"}):(0,s.jsx)("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-emerald-50 to-emerald-700 flex items-center justify-center shadow-2xl",children:(0,s.jsx)(d.A,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),(0,s.jsx)("div",{className:"absolute -bottom-2 -right-2 w-7 h-7 md:w-8 md:h-8 bg-blue-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,s.jsx)(o.A,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-white via-emerald-200 to-white bg-clip-text text-transparent",children:U("trialBalance.title")}),(0,s.jsx)("p",{className:"text-white/60 font-medium mt-1 text-sm md:text-base",children:a.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[G.isBalanced?(0,s.jsxs)(z.E,{className:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 font-bold text-xs",children:[(0,s.jsx)(c.A,{className:"w-3 h-3 ml-1"}),U("trialBalance.balanced")]}):(0,s.jsxs)(z.E,{className:"bg-rose-500/20 text-rose-300 border-rose-500/30 font-bold text-xs",children:[(0,s.jsx)(x.A,{className:"w-3 h-3 ml-1"}),U("trialBalance.unbalanced")]}),(0,s.jsxs)(z.E,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30 font-bold text-xs",children:[(0,s.jsx)(m.A,{className:"w-3 h-3 ml-1"}),G.accountsCount," ",U("trialBalance.accountsCount")]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[(0,s.jsxs)(A.$,{onClick:()=>eh(!0),variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 font-bold rounded-xl",disabled:Q,children:[(0,s.jsx)(u.A,{className:"w-4 h-4 ".concat("ar"===V?"ml-2":"mr-2"," ").concat(Q?"animate-spin":"")}),U("generalLedger.update")]}),(0,s.jsxs)(A.$,{onClick:()=>{let e=new Blob(["\uFEFF"+[[U("trialBalance.entryType"),U("trialBalance.accountCode"),U("trialBalance.accountName"),U("trialBalance.debit"),U("trialBalance.credit")].join(","),...I.map(e=>['"'.concat(e.type,'"'),e.account_code,'"'.concat(e.account_name,'"'),e.debit.toFixed(2),e.credit.toFixed(2)].join(",")),["","",U("trialBalance.total"),G.totalDebit.toFixed(2),G.totalCredit.toFixed(2)].join(",")].join("\n")],{type:"text/csv;charset=utf-8"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="trial_balance_".concat(new Date().toISOString().split("T")[0],".csv"),a.click()},variant:"outline",size:"sm",className:"bg-emerald-500/20 border-emerald-500/30 text-emerald-300 hover:bg-emerald-500/30 font-bold rounded-xl",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 ".concat("ar"===V?"ml-2":"mr-2")}),U("generalLedger.excel")]}),(0,s.jsxs)(A.$,{onClick:()=>{window.print()},variant:"outline",size:"sm",className:"bg-amber-500/20 border-amber-500/30 text-amber-300 hover:bg-amber-500/30 font-bold rounded-xl",children:[(0,s.jsx)(b.A,{className:"w-4 h-4 ".concat("ar"===V?"ml-2":"mr-2")}),U("generalLedger.print")]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mt-6 md:mt-8",children:[{label:U("trialBalance.totalDebit"),value:G.totalDebit,icon:p.A,color:"from-rose-500 to-red-600",iconBg:"bg-rose-500/20",textColor:"text-rose-300"},{label:U("trialBalance.totalCredit"),value:G.totalCredit,icon:g.A,color:"from-emerald-500 to-green-600",iconBg:"bg-emerald-500/20",textColor:"text-emerald-300"},{label:U("trialBalance.difference"),value:Math.abs(G.difference),icon:o.A,color:"from-blue-500 to-indigo-600",iconBg:"bg-blue-500/20",textColor:G.isBalanced?"text-emerald-300":"text-rose-300"},{label:U("trialBalance.accountsCount"),value:G.accountsCount,icon:f.A,color:"from-amber-500 to-orange-600",iconBg:"bg-amber-500/20",textColor:"text-amber-300",isCount:!0}].map((e,t)=>(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 p-3 md:p-4 group hover:bg-white/10 transition-all",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(e.color," opacity-0 group-hover:opacity-10 transition-opacity")}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 md:p-2.5 rounded-xl ".concat(e.iconBg),children:(0,s.jsx)(e.icon,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),(0,s.jsx)("span",{className:"text-lg md:text-2xl font-black tabular-nums ".concat(e.textColor),children:e.isCount?e.value:ev(e.value)}),(0,s.jsx)("span",{className:"text-[10px] md:text-xs font-medium text-white/50",children:e.label})]})]},t))}),(0,s.jsx)("div",{className:"mt-6 p-4 rounded-2xl text-center ".concat(G.isBalanced?"bg-emerald-500/20 border border-emerald-500/30":"bg-rose-500/20 border border-rose-500/30"),children:G.isBalanced?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(c.A,{className:"w-6 h-6 text-emerald-400"}),(0,s.jsx)("span",{className:"text-lg font-bold text-emerald-300",children:U("trialBalance.isBalancedDesc")})]}):(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(x.A,{className:"w-6 h-6 text-rose-400"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-rose-300",children:[U("trialBalance.isUnbalancedDesc")," - ",U("trialBalance.difference"),": ",ev(G.difference)," ",U("common.sar")]})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 print:hidden",children:[(0,s.jsxs)(C.Zp,{className:"border-none shadow-xl rounded-[2rem] overflow-hidden bg-white/80 backdrop-blur-xl",children:[(0,s.jsx)(C.aR,{className:"border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:(0,s.jsxs)(C.ZB,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"w-5 h-5 text-blue-600"}),U("trialBalance.typeDistribution")]})}),(0,s.jsx)(C.Wu,{className:"p-6",children:ee.typeDistribution.length>0?(0,s.jsx)(F.u,{width:"100%",height:300,children:(0,s.jsxs)(L.E,{data:ee.typeDistribution,children:[(0,s.jsx)(M.d,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,s.jsx)(T.W,{dataKey:"type",stroke:"#64748b",fontSize:12}),(0,s.jsx)(E.h,{stroke:"#64748b",fontSize:12,tickFormatter:e=>"".concat((e/1e3).toFixed(0),"K")}),(0,s.jsx)(R.m,{contentStyle:{background:"#1e293b",border:"none",borderRadius:"12px",color:"white"},formatter:e=>ev(e)+" "+U("common.sar")}),(0,s.jsx)(Z.s,{}),(0,s.jsx)($.y,{dataKey:"debit",name:U("trialBalance.debit"),fill:"#ef4444",radius:[8,8,0,0]}),(0,s.jsx)($.y,{dataKey:"credit",name:U("trialBalance.credit"),fill:"#10b981",radius:[8,8,0,0]})]})}):(0,s.jsx)("div",{className:"h-[300px] flex items-center justify-center text-slate-400",children:U("common.noData")})})]}),(0,s.jsxs)(C.Zp,{className:"border-none shadow-xl rounded-[2rem] overflow-hidden bg-white/80 backdrop-blur-xl",children:[(0,s.jsx)(C.aR,{className:"border-b border-slate-100 bg-gradient-to-r from-emerald-50 to-teal-50",children:(0,s.jsxs)(C.ZB,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 text-emerald-600"}),U("trialBalance.debitRatio")]})}),(0,s.jsx)(C.Wu,{className:"p-6",children:ee.typeDistribution.length>0?(0,s.jsx)(F.u,{width:"100%",height:300,children:(0,s.jsxs)(q.r,{children:[(0,s.jsx)(W.F,{data:ee.typeDistribution.map(e=>({...e,value:e.debit})),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",nameKey:"type",children:ee.typeDistribution.map((e,t)=>(0,s.jsx)(K.f,{fill:em[e.type]||P[t%P.length]},"cell-".concat(t)))}),(0,s.jsx)(R.m,{contentStyle:{background:"#1e293b",border:"none",borderRadius:"12px",color:"white"},formatter:e=>ev(e)+" "+U("common.sar")}),(0,s.jsx)(Z.s,{})]})}):(0,s.jsx)("div",{className:"h-[300px] flex items-center justify-center text-slate-400",children:U("common.noData")})})]})]}),(0,s.jsx)(C.Zp,{className:"border-none shadow-xl rounded-[2rem] overflow-hidden bg-white/80 backdrop-blur-xl print:hidden",children:(0,s.jsxs)(C.Wu,{className:"p-4 md:p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,s.jsx)(j.A,{className:"absolute ".concat("ar"===V?"right-4":"left-4"," top-1/2 -translate-y-1/2 text-slate-400"),size:20}),(0,s.jsx)(D.p,{placeholder:U("trialBalance.searchPlaceholder"),value:ea.search,onChange:e=>es(t=>({...t,search:e.target.value})),className:"".concat("ar"===V?"pr-12 text-right":"pl-12 text-left"," h-12 rounded-xl border-slate-200 focus:border-blue-500 font-medium")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,s.jsxs)(A.$,{variant:"outline",onClick:()=>el(!er),className:"rounded-xl font-bold h-12 ".concat(er?"bg-blue-50 border-blue-300 text-blue-700":""),children:[(0,s.jsx)(y.A,{className:"w-4 h-4 ".concat("ar"===V?"ml-2":"mr-2")}),U("generalLedger.advancedFilters"),er?(0,s.jsx)(N.A,{className:"w-4 h-4 ".concat("ar"===V?"mr-2":"ml-2")}):(0,s.jsx)(w.A,{className:"w-4 h-4 ".concat("ar"===V?"mr-2":"ml-2")})]}),(0,s.jsxs)(S.l6,{value:ea.entryType,onValueChange:e=>es(t=>({...t,entryType:e})),children:[(0,s.jsx)(S.bq,{className:"w-40 h-12 rounded-xl font-bold",children:(0,s.jsx)(S.yv,{placeholder:U("trialBalance.entryType")})}),(0,s.jsxs)(S.gC,{children:[(0,s.jsx)(S.eb,{value:"all",children:U("trialBalance.allTypes")}),(0,s.jsx)(S.eb,{value:"expenses",children:U("trialBalance.expenses")}),(0,s.jsx)(S.eb,{value:"payrolls",children:U("trialBalance.payrolls")}),(0,s.jsx)(S.eb,{value:"journals",children:U("trialBalance.journals")})]})]})]})]}),er&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-4 border-t border-slate-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:U("generalLedger.fromDate")}),(0,s.jsx)(D.p,{type:"date",value:ea.fromDate,onChange:e=>es(t=>({...t,fromDate:e.target.value})),className:"h-11 rounded-xl"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:U("generalLedger.toDate")}),(0,s.jsx)(D.p,{type:"date",value:ea.toDate,onChange:e=>es(t=>({...t,toDate:e.target.value})),className:"h-11 rounded-xl"})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)(A.$,{variant:"outline",onClick:()=>es({fromDate:"",toDate:"",entryType:"all",search:""}),className:"rounded-xl font-bold w-full h-11",children:[(0,s.jsx)(k.A,{className:"w-4 h-4 ".concat("ar"===V?"ml-2":"mr-2")}),U("generalLedger.clearFilters")]})})]})]})}),(0,s.jsxs)(C.Zp,{className:"border-none shadow-xl rounded-[2rem] overflow-hidden bg-white/90 backdrop-blur-xl print:shadow-none print:rounded-none",children:[(0,s.jsx)(C.aR,{className:"border-b border-slate-100 bg-gradient-to-r from-slate-50 to-emerald-50 print:bg-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.ZB,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,s.jsx)(B.A,{className:"w-5 h-5 text-emerald-600"}),U("trialBalance.tableTitle")]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 print:hidden",children:[(0,s.jsxs)("span",{className:"text-sm text-slate-500 font-medium",children:[U("common.view"),":"]}),(0,s.jsxs)(S.l6,{value:String(eo),onValueChange:e=>{ed(Number(e)),ei(1)},children:[(0,s.jsx)(S.bq,{className:"w-20 h-9 rounded-lg",children:(0,s.jsx)(S.yv,{})}),(0,s.jsxs)(S.gC,{children:[(0,s.jsx)(S.eb,{value:"10",children:"10"}),(0,s.jsx)(S.eb,{value:"20",children:"20"}),(0,s.jsx)(S.eb,{value:"50",children:"50"}),(0,s.jsx)(S.eb,{value:"100",children:"100"})]})]})]})]})}),(0,s.jsxs)(C.Wu,{className:"p-0",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white",children:[{key:"type",label:U("trialBalance.entryType"),icon:m.A},{key:"account_code",label:U("trialBalance.accountCode"),icon:B.A},{key:"account_name",label:U("trialBalance.accountName"),icon:i.A},{key:"debit",label:U("trialBalance.debit"),icon:p.A},{key:"credit",label:U("trialBalance.credit"),icon:g.A}].map(e=>(0,s.jsx)("th",{onClick:()=>{var t;return t=e.key,void ex(e=>({key:t,direction:e.key===t&&"desc"===e.direction?"asc":"desc"}))},className:"px-4 py-4 ".concat("ar"===V?"text-right":"text-left"," text-xs font-bold cursor-pointer hover:bg-white/10 transition-colors whitespace-nowrap"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(e.icon,{className:"w-4 h-4 opacity-70"}),e.label,ec.key===e.key&&("desc"===ec.direction?(0,s.jsx)(w.A,{className:"w-3 h-3"}):(0,s.jsx)(N.A,{className:"w-3 h-3"}))]})},e.key))})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:eg.length>0?eg.map((e,t)=>{let a=eu[e.type]||B.A,r=em[e.type]||"#64748b";return(0,s.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors ".concat(t%2==0?"bg-white":"bg-slate-50/50"),children:[(0,s.jsx)("td",{className:"px-4 py-3.5 text-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"".concat(r,"20")},children:(0,s.jsx)(a,{className:"w-4 h-4",style:{color:r}})}),(0,s.jsx)(z.E,{style:{backgroundColor:"".concat(r,"20"),color:r,borderColor:r},className:"font-bold border",children:e.type})]})}),(0,s.jsx)("td",{className:"px-4 py-3.5 text-sm",children:(0,s.jsx)("span",{className:"font-bold text-slate-800 bg-slate-100 px-3 py-1 rounded-lg",children:e.account_code})}),(0,s.jsx)("td",{className:"px-4 py-3.5 text-sm text-slate-600 font-medium",children:e.account_name}),(0,s.jsx)("td",{className:"px-4 py-3.5 text-sm",children:e.debit>0?(0,s.jsx)("span",{className:"font-bold text-rose-600 tabular-nums",children:ev(e.debit)}):(0,s.jsx)("span",{className:"text-slate-300",children:"-"})}),(0,s.jsx)("td",{className:"px-4 py-3.5 text-sm",children:e.credit>0?(0,s.jsx)("span",{className:"font-bold text-emerald-600 tabular-nums",children:ev(e.credit)}):(0,s.jsx)("span",{className:"text-slate-300",children:"-"})})]},t)}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-4 py-16 text-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-10 h-10 text-slate-300"})}),(0,s.jsx)("p",{className:"text-slate-400 font-bold text-lg",children:U("trialBalance.noMatching")})]})})})}),(0,s.jsxs)("tfoot",{children:[(0,s.jsxs)("tr",{className:"bg-gradient-to-r from-slate-100 to-emerald-100 font-bold",children:[(0,s.jsx)("td",{colSpan:3,className:"px-4 py-4 text-sm text-slate-700",children:U("trialBalance.total")}),(0,s.jsx)("td",{className:"px-4 py-4 text-sm text-rose-600 font-black tabular-nums",children:ev(G.totalDebit)}),(0,s.jsx)("td",{className:"px-4 py-4 text-sm text-emerald-600 font-black tabular-nums",children:ev(G.totalCredit)})]}),(0,s.jsxs)("tr",{className:"font-bold ".concat(G.isBalanced?"bg-emerald-50":"bg-rose-50"),children:[(0,s.jsx)("td",{colSpan:3,className:"px-4 py-3 text-sm text-slate-700",children:U("trialBalance.diffLabel")}),(0,s.jsxs)("td",{colSpan:2,className:"px-4 py-3 text-sm font-black tabular-nums text-center ".concat(G.isBalanced?"text-emerald-600":"text-rose-600"),children:[ev(G.difference)," ",U("common.sar"),G.isBalanced&&(0,s.jsx)(c.A,{className:"w-4 h-4 inline-block mx-2"}),!G.isBalanced&&(0,s.jsx)(x.A,{className:"w-4 h-4 inline-block mx-2"})]})]})]})]})}),ef>1&&(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between p-4 border-t border-slate-100 print:hidden gap-3",children:[(0,s.jsx)("div",{className:"text-sm text-slate-500 font-medium",children:"ar"===V?(0,s.jsxs)(s.Fragment,{children:["عرض ",(en-1)*eo+1," إلى ",Math.min(en*eo,eb.length)," من ",eb.length," حساب"]}):(0,s.jsxs)(s.Fragment,{children:["Showing ",(en-1)*eo+1," to ",Math.min(en*eo,eb.length)," of ",eb.length," records"]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>ei(1),disabled:1===en,className:"rounded-lg font-bold",children:U("common.previous")}),(0,s.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>ei(e=>Math.max(1,e-1)),disabled:1===en,className:"rounded-lg font-bold",children:U("common.previous")}),(0,s.jsxs)("span",{className:"px-4 py-2 bg-emerald-50 rounded-lg text-emerald-700 font-bold text-sm",children:[en," / ",ef]}),(0,s.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>ei(e=>Math.min(ef,e+1)),disabled:en===ef,className:"rounded-lg font-bold",children:U("common.next")}),(0,s.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>ei(ef),disabled:en===ef,className:"rounded-lg font-bold",children:U("common.next")})]})]})]})]})]})})}},52056:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(2821),r=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(95155);a(12115);var r=a(64269);function l(e){let{className:t,type:a,...l}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}},75882:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>n});var s=a(95155);a(12115);var r=a(64269);function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},91169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[4909,315,477,6663,825,3415,3884,8441,1255,7358],()=>e(e.s=40971)),_N_E=e.O()}]);