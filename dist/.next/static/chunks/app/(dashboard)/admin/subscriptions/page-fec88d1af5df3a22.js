(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{34545:(e,t,a)=>{"use strict";a.d(t,{default:()=>et});var s=a(95155),l=a(12115),r=a(8751),n=a(26497),i=a(18720),d=a(19408),o=a(46826),c=a(5370),x=a(86651),m=a(85998),b=a(37586),u=a(48055),p=a(91169),h=a(60167),g=a(53409),y=a(89715),f=a(78519),j=a(24722),k=a(24947),v=a(55136),N=a(16485),w=a(46398),_=a(26617),A=a(42041),z=a(80534),S=a(97079),C=a(87454),P=a(47937),R=a(92927),E=a(85843),O=a(91761),T=a(23664),V=a(15870),q=a(89559),F=a(95740),D=a(68854),J=a(61362),I=a(26983),U=a(6191),L=a(11010),B=a(71360),H=a(78874),Q=a(57828),$=a(5917),G=a(65229),K=a(69152),M=a(39068),W=a(46046),X=a(6132),Y=a(64269);let Z=[{key:"admin_requests",name:"طلبات تسجيل المنشآت",icon:d.A,type:"admin"},{key:"admin_create_company",name:"إضافة منشأة جديدة",icon:o.A,type:"admin"},{key:"admin_generate_token",name:"توليد رمز الاشتراك",icon:c.A,type:"admin"},{key:"admin_search_token",name:"البحث عن رمز الاشتراك",icon:x.A,type:"admin"},{key:"admin_notifications",name:"إشعارات المدير",icon:m.A,type:"admin"},{key:"admin_chat",name:"الدعم الفني",icon:b.A,type:"admin"},{key:"special_salaries",name:"مسيرات رواتب خاص",icon:u.A,type:"admin"},{key:"employees_module",name:"إدارة الموارد البشرية",icon:p.A,type:"general",category:"الموارد البشرية"},{key:"salary_payrolls_module",name:"مسيرات الرواتب",icon:h.A,type:"general",category:"الموارد البشرية"},{key:"clients_module",name:"قائمة العملاء",icon:p.A,type:"general",category:"العملاء والمبيعات"},{key:"receipts_module",name:"السندات المالية",icon:g.A,type:"general",category:"السندات المالية"},{key:"quotations_module",name:"عروض الأسعار",icon:y.A,type:"general",category:"السندات المالية"},{key:"sales_module",name:"الفواتير الضريبية",icon:y.A,type:"general",category:"السندات المالية"},{key:"income_module",name:"إضافة دخل جديد",icon:u.A,type:"general",category:"السندات المالية"},{key:"credit_notes_module",name:"إشعارات الدائن الضريبية",icon:f.A,type:"general",category:"السندات المالية"},{key:"receipt_vouchers_module",name:"سندات القبض",icon:j.A,type:"general",category:"السندات المالية"},{key:"vehicles_list",name:"إدارة المركبات",icon:k.A,type:"general",category:"إدارة الأسطول"},{key:"ecommerce_orders_module",name:"طلبات التجارة الإلكترونية",icon:v.A,type:"general",category:"التجارة الإلكترونية"},{key:"daily_orders_module",name:"عرض الطلبات اليومية",icon:N.A,type:"general",category:"التجارة الإلكترونية"},{key:"ecommerce_stores_module",name:"إدارة المتاجر",icon:v.A,type:"general",category:"التجارة الإلكترونية"},{key:"personal_shipments_module",name:"شحنات الأفراد",icon:w.A,type:"general",category:"الشحن"},{key:"manage_shipments_module",name:"إدارة شحنات الأفراد",icon:_.A,type:"general",category:"الشحن"},{key:"monthly_commissions_module",name:"العمولة الشهرية",icon:A.A,type:"general",category:"العمولات"},{key:"commissions_summary_module",name:"تقرير العمولة الشهرية",icon:j.A,type:"general",category:"العمولات"},{key:"expenses_module",name:"المصروفات الشهرية",icon:z.A,type:"general",category:"المحاسبة"},{key:"journal_entries_module",name:"قيود اليومية",icon:S.A,type:"general",category:"المحاسبة"},{key:"income_report_module",name:"عرض الدخل والتقارير",icon:C.A,type:"general",category:"المحاسبة"},{key:"expenses_report_module",name:"تقرير المصروفات",icon:z.A,type:"general",category:"المحاسبة"},{key:"accounts_module",name:"مركز الحسابات",icon:P.A,type:"general",category:"الحسابات"},{key:"cost_centers_module",name:"مراكز التكلفة",icon:R.A,type:"general",category:"الحسابات"},{key:"ledger_module",name:"دفتر الأستاذ العام",icon:P.A,type:"general",category:"الحسابات"},{key:"trial_balance_module",name:"ميزان المراجعة",icon:E.A,type:"general",category:"الحسابات"},{key:"income_statement_module",name:"قائمة الأرصدة",icon:z.A,type:"general",category:"الحسابات"},{key:"balance_sheet_module",name:"الميزانية العمومية",icon:y.A,type:"general",category:"الحسابات"},{key:"tax_settings_module",name:"إعدادات الضريبة",icon:O.A,type:"general",category:"الحسابات"},{key:"letters_templates_module",name:"الخطابات الجاهزة",icon:T.A,type:"general",category:"أخرى"}],ee={"الموارد البشرية":{bg:"from-blue-500/10 to-blue-600/5",border:"border-r-blue-500",icon:"text-blue-500"},"العملاء والمبيعات":{bg:"from-cyan-500/10 to-cyan-600/5",border:"border-r-cyan-500",icon:"text-cyan-500"},"السندات المالية":{bg:"from-indigo-500/10 to-indigo-600/5",border:"border-r-indigo-500",icon:"text-indigo-500"},"إدارة الأسطول":{bg:"from-amber-500/10 to-amber-600/5",border:"border-r-amber-500",icon:"text-amber-500"},"التجارة الإلكترونية":{bg:"from-pink-500/10 to-pink-600/5",border:"border-r-pink-500",icon:"text-pink-500"},الشحن:{bg:"from-sky-500/10 to-sky-600/5",border:"border-r-sky-500",icon:"text-sky-500"},العمولات:{bg:"from-orange-500/10 to-orange-600/5",border:"border-r-orange-500",icon:"text-orange-500"},المحاسبة:{bg:"from-emerald-500/10 to-emerald-600/5",border:"border-r-emerald-500",icon:"text-emerald-500"},الحسابات:{bg:"from-violet-500/10 to-violet-600/5",border:"border-r-violet-500",icon:"text-violet-500"},أخرى:{bg:"from-slate-500/10 to-slate-600/5",border:"border-r-slate-500",icon:"text-slate-500"}};function et(e){let{initialPlans:t,initialBankAccounts:a,initialPayments:d,stats:o,userId:c}=e,[x,m]=(0,l.useState)("plans"),[b,u]=(0,l.useState)(t),[p,h]=(0,l.useState)(a),[g,j]=(0,l.useState)(d),[k,v]=(0,l.useState)(!1),[N,w]=(0,l.useState)(!1),[A,z]=(0,l.useState)(!1),[S,C]=(0,l.useState)(null),[P,E]=(0,l.useState)(null),[O,T]=(0,l.useState)("all"),[et,ea]=(0,l.useState)(null),[es,el]=(0,l.useState)(null),[er,en]=(0,l.useState)(null),[ei,ed]=(0,l.useState)(""),[eo,ec]=(0,l.useState)(!0),[ex,em]=(0,l.useState)(null),[eb,eu]=(0,l.useState)(new Set),[ep,eh]=(0,l.useState)(!1);(0,l.useEffect)(()=>{eg()},[]);let eg=async()=>{try{let e=await fetch("/api/admin/subscriptions/setup"),t=await e.json(),a=Object.values(t.tables||{}).every(e=>!0===e);ec(a)}catch(e){ec(!1)}},ey=async()=>{v(!0);try{let e=await fetch("/api/admin/subscriptions/setup",{method:"POST"}),t=await e.json();t.success?(i.oR.success("تم إعداد النظام بنجاح"),ec(!0),window.location.reload()):i.oR.error(t.error||"فشل في الإعداد")}catch(e){i.oR.error("حدث خطأ")}v(!1)},ef=async e=>{e.preventDefault(),v(!0);let t=new FormData(e.currentTarget),a=Array.from(eb),s={name:t.get("name"),name_en:t.get("name_en"),description:t.get("description"),price:parseFloat(t.get("price"))||0,duration_value:parseInt(t.get("duration_value"))||1,duration_unit:t.get("duration_unit"),is_active:+("on"===t.get("is_active")),include_all_services:+(a.length===Z.length),sort_order:parseInt(t.get("sort_order"))||0,services:a};try{let e=S?"/api/admin/subscriptions/plans/".concat(S.id):"/api/admin/subscriptions/plans",t=S?"PUT":"POST",a=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),l=await a.json();l.success?(i.oR.success(S?"تم تحديث الباقة والخدمات بنجاح":"تم إنشاء الباقة بنجاح"),w(!1),C(null),eu(new Set),eA()):i.oR.error(l.error)}catch(e){i.oR.error("حدث خطأ")}v(!1)},ej=e=>{if(e){C(e);let t=[];if(e.includes_all_services)t=Z.map(e=>e.key);else if(e.services)try{t=JSON.parse(e.services)}catch(e){t=[]}eu(new Set(t))}else C(null),eu(new Set);w(!0)},ek=async e=>{en({id:e,type:"plan"})},ev=async e=>{en({id:e,type:"bank"})},eN=async()=>{if(!er)return;let{id:e,type:t}=er;v(!0);try{let a=await fetch("plan"===t?"/api/admin/subscriptions/plans/".concat(e):"/api/admin/subscriptions/bank-accounts/".concat(e),{method:"DELETE"}),s=await a.json();s.success?(i.oR.success("plan"===t?"تم حذف الباقة بنجاح":"تم حذف الحساب بنجاح"),"plan"===t?eA():ez()):i.oR.error(s.error)}catch(e){i.oR.error("حدث خطأ أثناء الحذف")}v(!1),en(null)},ew=async e=>{e.preventDefault(),v(!0);let t=new FormData(e.currentTarget),a={bank_name:t.get("bank_name"),account_holder:t.get("account_holder"),account_number:t.get("account_number"),iban:t.get("iban"),is_active:+("on"===t.get("is_active"))};try{let e=P?"/api/admin/subscriptions/bank-accounts/".concat(P.id):"/api/admin/subscriptions/bank-accounts",t=P?"PUT":"POST",s=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=await s.json();l.success?(i.oR.success(P?"تم تحديث الحساب":"تم إضافة الحساب"),z(!1),E(null),ez()):i.oR.error(l.error)}catch(e){i.oR.error("حدث خطأ")}v(!1)},e_=async(e,t)=>{if("reject"===t&&!ei.trim())return void i.oR.error("يرجى إدخال سبب الرفض");v(!0);try{let a=await fetch("/api/admin/subscriptions/payments/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,rejection_reason:ei,processed_by:c})}),s=await a.json();s.success?(i.oR.success("approve"===t?"تم قبول الطلب وتفعيل الاشتراك":"تم رفض الطلب"),el(null),ed(""),eS()):i.oR.error(s.error)}catch(e){i.oR.error("حدث خطأ")}v(!1)},eA=async()=>{try{let e=await fetch("/api/admin/subscriptions/plans"),t=await e.json();t.success&&u(t.plans.map(e=>({...e,price:parseFloat(e.price)||0})))}catch(e){}},ez=async()=>{try{let e=await fetch("/api/admin/subscriptions/bank-accounts"),t=await e.json();t.success&&h(t.accounts)}catch(e){}},eS=async()=>{try{let e=await fetch("/api/admin/subscriptions/payments?status=".concat(O)),t=await e.json();t.success&&j(t.requests.map(e=>({...e,amount:parseFloat(e.amount)||0,plan_price:parseFloat(e.plan_price)||0,created_at:e.created_at?new Date(e.created_at).toISOString():null})))}catch(e){}},eC=e=>{let t=new Set(eb);t.has(e)?t.delete(e):t.add(e),eu(t)},eP=Z.filter(e=>"admin"===e.type),eR=Z.filter(e=>"general"===e.type),eE=Array.from(new Set(eR.map(e=>e.category)));(0,l.useEffect)(()=>{"payments"===x&&eS()},[O]);let eO=[{id:"plans",label:"الباقات",icon:_.A,count:b.length},{id:"banks",label:"الحسابات البنكية",icon:R.A,count:p.length},{id:"payments",label:"طلبات الدفع",icon:f.A,count:o.pendingPayments}];return eo?(0,s.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 p-6",dir:"rtl",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-black text-slate-900 dark:text-white flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl",children:(0,s.jsx)(D.A,{size:28,className:"text-white"})}),"إدارة الباقات والاشتراكات"]}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"إدارة باقات الاشتراك والحسابات البنكية وطلبات الدفع"})]})}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"إجمالي الباقات",value:o.totalPlans,icon:_.A,gradient:"from-blue-500 to-cyan-500"},{label:"الباقات النشطة",value:o.activePlans,icon:J.A,gradient:"from-emerald-500 to-green-500"},{label:"طلبات الدفع",value:o.totalPayments,icon:f.A,gradient:"from-violet-500 to-purple-500"},{label:"طلبات معلقة",value:o.pendingPayments,icon:I.A,gradient:"from-amber-500 to-orange-500"}].map((e,t)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800",children:[(0,s.jsx)("div",{className:(0,Y.cn)("w-12 h-12 rounded-xl bg-gradient-to-br flex items-center justify-center mb-3",e.gradient),children:(0,s.jsx)(e.icon,{size:24,className:"text-white"})}),(0,s.jsx)("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:e.value}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.label})]},t))}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[(0,s.jsx)("div",{className:"flex border-b border-slate-200 dark:border-slate-800",children:eO.map(e=>(0,s.jsxs)("button",{onClick:()=>m(e.id),className:(0,Y.cn)("flex-1 flex items-center justify-center gap-2 px-6 py-4 font-bold text-sm transition-all",x===e.id?"bg-gradient-to-r from-blue-500/10 to-purple-500/10 text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"),children:[(0,s.jsx)(e.icon,{size:18}),e.label,e.count>0&&(0,s.jsx)("span",{className:(0,Y.cn)("px-2 py-0.5 rounded-full text-xs",x===e.id?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700"),children:e.count})]},e.id))}),(0,s.jsxs)("div",{className:"p-6",children:["plans"===x&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white",children:"قائمة الباقات"}),(0,s.jsxs)("button",{onClick:()=>ej(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-bold text-sm hover:from-blue-700 hover:to-indigo-700 transition-all",children:[(0,s.jsx)(U.A,{size:18}),"إضافة باقة"]})]}),(0,s.jsx)("div",{className:"grid gap-4",children:b.map(e=>(0,s.jsxs)(r.P.div,{layout:!0,className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:(0,Y.cn)("w-14 h-14 rounded-2xl flex items-center justify-center",e.is_active?"bg-gradient-to-br from-emerald-500 to-green-600":"bg-slate-300 dark:bg-slate-600"),children:(0,s.jsx)(_.A,{size:24,className:"text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-lg text-slate-900 dark:text-white",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.name_en}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,s.jsxs)("span",{className:"text-2xl font-black text-blue-600",children:[e.price," ر.س"]}),(0,s.jsxs)("span",{className:"text-sm text-slate-400",children:["/ ",e.duration_value," ","days"===e.duration_unit?"يوم":"months"===e.duration_unit?"شهر":"سنة"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:(0,Y.cn)("px-3 py-1 rounded-full text-xs font-bold",e.is_active?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-200 text-slate-600 dark:bg-slate-700 dark:text-slate-400"),children:e.is_active?"نشطة":"غير نشطة"}),(0,s.jsx)("button",{onClick:()=>ej(e),className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",children:(0,s.jsx)(L.A,{size:18,className:"text-slate-500"})}),(0,s.jsx)("button",{onClick:()=>ek(e.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:(0,s.jsx)(B.A,{size:18,className:"text-red-500"})})]})]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between",children:(0,s.jsxs)("span",{className:(0,Y.cn)("px-3 py-1.5 rounded-xl text-xs font-bold flex items-center gap-2",e.includes_all_services?"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 dark:from-amber-900/30 dark:to-orange-900/30 dark:text-amber-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"),children:[(0,s.jsx)(J.A,{size:14}),e.includes_all_services?"تشمل كل الخدمات":"".concat((e=>{if(e.includes_all_services)return Z.length;if(!e.services)return 0;try{return JSON.parse(e.services).length}catch(e){return 0}})(e)," خدمة محددة")]})}),e.description&&(0,s.jsx)("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-900 p-3 rounded-xl",children:e.description})]},e.id))})]}),"banks"===x&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white",children:"الحسابات البنكية"}),(0,s.jsxs)("button",{onClick:()=>{E(null),z(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl font-bold text-sm hover:from-emerald-700 hover:to-green-700 transition-all",children:[(0,s.jsx)(U.A,{size:18}),"إضافة حساب"]})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:p.map(e=>(0,s.jsxs)(r.P.div,{layout:!0,className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,s.jsx)(R.A,{size:24,className:"text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-lg text-slate-900 dark:text-white",children:e.bank_name}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.account_holder})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{E(e),z(!0)},className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",children:(0,s.jsx)(L.A,{size:18,className:"text-slate-500"})}),(0,s.jsx)("button",{onClick:()=>ev(e.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:(0,s.jsx)(B.A,{size:18,className:"text-red-500"})})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-2 text-sm",children:[e.account_number&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"رقم الحساب:"}),(0,s.jsx)("span",{className:"font-mono font-bold text-slate-900 dark:text-white",children:e.account_number})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"الآيبان:"}),(0,s.jsx)("span",{className:"font-mono font-bold text-slate-900 dark:text-white text-xs",children:e.iban})]})]})]},e.id))})]}),"payments"===x&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white",children:"طلبات الدفع"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("select",{value:O,onChange:e=>T(e.target.value),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold",children:[(0,s.jsx)("option",{value:"all",children:"الكل"}),(0,s.jsx)("option",{value:"pending",children:"معلقة"}),(0,s.jsx)("option",{value:"approved",children:"مقبولة"}),(0,s.jsx)("option",{value:"rejected",children:"مرفوضة"})]})})]}),(0,s.jsx)("div",{className:"space-y-3",children:0===g.length?(0,s.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,s.jsx)(f.A,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"لا توجد طلبات دفع"})]}):g.map(e=>(0,s.jsxs)(r.P.div,{layout:!0,className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:(0,Y.cn)("w-12 h-12 rounded-xl flex items-center justify-center","pending"===e.status?"bg-amber-100 dark:bg-amber-900/30":"approved"===e.status?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"),children:"pending"===e.status?(0,s.jsx)(I.A,{size:24,className:"text-amber-600"}):"approved"===e.status?(0,s.jsx)(J.A,{size:24,className:"text-emerald-600"}):(0,s.jsx)(H.A,{size:24,className:"text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-slate-900 dark:text-white",children:e.company_name}),(0,s.jsxs)("p",{className:"text-sm text-slate-500",children:[e.plan_name," - ",e.amount," ر.س"]}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[new Date(e.created_at).toLocaleDateString("en-US"),e.bank_name&&" • ".concat(e.bank_name)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.receipt_image&&(0,s.jsx)("button",{onClick:()=>ea(e.receipt_image),className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"عرض الإيصال",children:(0,s.jsx)(Q.A,{size:18,className:"text-slate-500"})}),"pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>e_(e.id,"approve"),disabled:k,className:"p-2 bg-emerald-100 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:hover:bg-emerald-900/50 rounded-lg transition-colors",title:"قبول",children:(0,s.jsx)($.A,{size:18,className:"text-emerald-600"})}),(0,s.jsx)("button",{onClick:()=>el(e.id),disabled:k,className:"p-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 rounded-lg transition-colors",title:"رفض",children:(0,s.jsx)(G.A,{size:18,className:"text-red-600"})})]}),(0,s.jsx)("span",{className:(0,Y.cn)("px-3 py-1 rounded-full text-xs font-bold","pending"===e.status?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"approved"===e.status?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"pending"===e.status?"معلق":"approved"===e.status?"مقبول":"مرفوض"})]})]}),e.rejection_reason&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl text-sm text-red-600 dark:text-red-400",children:[(0,s.jsx)("strong",{children:"سبب الرفض:"})," ",e.rejection_reason]})]},e.id))})]})]})]})]}),(0,s.jsxs)(n.N,{children:[N&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative w-full max-w-5xl bg-white dark:bg-slate-900 rounded-3xl shadow-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:(0,s.jsx)(_.A,{size:28})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-black",children:S?"تعديل الباقة":"إضافة باقة جديدة"}),(0,s.jsx)("p",{className:"text-white/80 text-sm",children:"قم بتحديد معلومات الباقة والخدمات المتاحة"})]})]}),(0,s.jsx)("button",{onClick:()=>w(!1),className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:(0,s.jsx)(G.A,{size:24})})]})}),(0,s.jsxs)("form",{onSubmit:ef,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)("h4",{className:"font-black text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(y.A,{size:20,className:"text-blue-500"}),"معلومات الباقة"]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"اسم الباقة (عربي)"}),(0,s.jsx)("input",{name:"name",defaultValue:null==S?void 0:S.name,required:!0,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"اسم الباقة (انجليزي)"}),(0,s.jsx)("input",{name:"name_en",defaultValue:null==S?void 0:S.name_en,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold"})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"الوصف"}),(0,s.jsx)("textarea",{name:"description",defaultValue:(null==S?void 0:S.description)||"",rows:2,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"السعر (ر.س)"}),(0,s.jsx)("input",{name:"price",type:"number",step:"0.01",defaultValue:(null==S?void 0:S.price)||0,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"المدة"}),(0,s.jsx)("input",{name:"duration_value",type:"number",defaultValue:(null==S?void 0:S.duration_value)||1,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"وحدة المدة"}),(0,s.jsxs)("select",{name:"duration_unit",defaultValue:(null==S?void 0:S.duration_unit)||"months",className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold",children:[(0,s.jsx)("option",{value:"days",children:"يوم"}),(0,s.jsx)("option",{value:"months",children:"شهر"}),(0,s.jsx)("option",{value:"years",children:"سنة"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"فترة تجريبية (أيام)"}),(0,s.jsx)("input",{name:"trial_days",type:"number",defaultValue:(null==S?void 0:S.trial_days)||0,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 font-bold"})]})]}),(0,s.jsxs)("div",{className:"flex gap-6 mt-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{name:"is_active",type:"checkbox",defaultChecked:(null==S?void 0:S.is_active)!==0,className:"w-5 h-5 rounded accent-blue-600"}),(0,s.jsx)("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:"نشطة"})]}),(0,s.jsx)("input",{name:"sort_order",type:"hidden",defaultValue:(null==S?void 0:S.sort_order)||0})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100/50 dark:from-rose-900/20 dark:to-rose-800/10 rounded-2xl p-5 border border-rose-200 dark:border-rose-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)(D.A,{size:20,className:"text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-black text-slate-800 dark:text-white",children:"الصلاحيات الإدارية"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"صلاحيات متقدمة للمشرفين"})]})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=Z.filter(e=>"admin"===e.type).map(e=>e.key),t=e.every(e=>eb.has(e)),a=new Set(eb);t?e.forEach(e=>a.delete(e)):e.forEach(e=>a.add(e)),eu(a)},className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg text-xs font-bold transition-all border border-slate-200 dark:border-slate-700",children:[(0,s.jsx)(K.A,{size:14}),"تحديد الكل"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:eP.map(e=>(0,s.jsx)("div",{onClick:()=>eC(e.key),className:(0,Y.cn)("cursor-pointer rounded-xl p-3 border-2 transition-all duration-200",eb.has(e.key)?"bg-white dark:bg-slate-800 border-rose-400 shadow-md":"bg-white/50 dark:bg-slate-800/50 border-transparent hover:border-slate-300"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:(0,Y.cn)("w-8 h-8 rounded-lg flex items-center justify-center transition-all",eb.has(e.key)?"bg-gradient-to-br from-rose-500 to-pink-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"),children:(0,s.jsx)(e.icon,{size:16})}),(0,s.jsx)("span",{className:"font-bold text-slate-800 dark:text-white text-xs flex-1 truncate",children:e.name}),(0,s.jsx)("div",{className:(0,Y.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",eb.has(e.key)?"bg-emerald-500 border-emerald-500":"border-slate-300 dark:border-slate-600"),children:eb.has(e.key)&&(0,s.jsx)($.A,{size:12,className:"text-white"})})]})},e.key))})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-2xl p-5 border border-emerald-200 dark:border-emerald-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)(M.A,{size:20,className:"text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-black text-slate-800 dark:text-white",children:"الصلاحيات العامة"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"صلاحيات أساسية للمستخدمين"})]})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=Z.filter(e=>"general"===e.type).map(e=>e.key),t=e.every(e=>eb.has(e)),a=new Set(eb);t?e.forEach(e=>a.delete(e)):e.forEach(e=>a.add(e)),eu(a)},className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg text-xs font-bold transition-all border border-slate-200 dark:border-slate-700",children:[(0,s.jsx)(K.A,{size:14}),"تحديد الكل"]})]}),(0,s.jsx)("div",{className:"space-y-4",children:eE.filter(Boolean).map(e=>{let t=eR.filter(t=>t.category===e),a=ee[e]||ee["أخرى"];return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h5",{className:"text-sm font-black text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[(0,s.jsx)("div",{className:(0,Y.cn)("w-1 h-4 rounded-full",a.border.replace("border-r-","bg-"))}),e,(0,s.jsxs)("span",{className:"text-xs font-normal text-slate-400",children:["(",t.length,")"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(e=>(0,s.jsx)("div",{onClick:()=>eC(e.key),className:(0,Y.cn)("cursor-pointer rounded-xl p-3 border-2 transition-all duration-200",a.border,eb.has(e.key)?"bg-gradient-to-br ".concat(a.bg," border-emerald-400 shadow-md"):"bg-white/80 dark:bg-slate-800/80 border-transparent hover:border-slate-300"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:(0,Y.cn)("w-8 h-8 rounded-lg flex items-center justify-center transition-all",eb.has(e.key)?"bg-gradient-to-br from-emerald-500 to-teal-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"),children:(0,s.jsx)(e.icon,{size:16})}),(0,s.jsx)("span",{className:"font-bold text-slate-800 dark:text-white text-xs flex-1 truncate",children:e.name}),(0,s.jsx)("div",{className:(0,Y.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",eb.has(e.key)?"bg-emerald-500 border-emerald-500":"border-slate-300 dark:border-slate-600"),children:eb.has(e.key)&&(0,s.jsx)($.A,{size:12,className:"text-white"})})]})},e.key))})]},e)})})]})]}),(0,s.jsx)("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-2",children:[(0,s.jsx)(J.A,{size:16}),eb.size," خدمة محددة من ",Z.length]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:"إلغاء"}),(0,s.jsx)("button",{type:"button",onClick:e=>{let t=document.querySelector("form");t&&t.requestSubmit()},disabled:k,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-black rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 disabled:opacity-50 shadow-lg shadow-blue-500/30",children:k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q.A,{className:"animate-spin",size:18}),"جاري الحفظ..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.A,{size:18}),"حفظ الباقة"]})})]})]})})]})]}),A&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>z(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative w-full max-w-lg bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-2xl",children:[(0,s.jsx)("h3",{className:"text-xl font-black text-slate-900 dark:text-white mb-6",children:P?"تعديل الحساب":"إضافة حساب بنكي"}),(0,s.jsxs)("form",{onSubmit:ew,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"اسم البنك"}),(0,s.jsx)("input",{name:"bank_name",defaultValue:null==P?void 0:P.bank_name,required:!0,className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl border-0 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"اسم صاحب الحساب"}),(0,s.jsx)("input",{name:"account_holder",defaultValue:null==P?void 0:P.account_holder,required:!0,className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl border-0 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"رقم الحساب"}),(0,s.jsx)("input",{name:"account_number",defaultValue:null==P?void 0:P.account_number,className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl border-0 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"رقم الآيبان"}),(0,s.jsx)("input",{name:"iban",defaultValue:null==P?void 0:P.iban,required:!0,className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl border-0 font-bold"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{name:"is_active",type:"checkbox",defaultChecked:(null==P?void 0:P.is_active)!==0,className:"w-5 h-5 rounded"}),(0,s.jsx)("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:"نشط"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{type:"submit",disabled:k,className:"flex-1 py-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white font-bold rounded-xl hover:from-emerald-700 hover:to-green-700 disabled:opacity-50",children:k?"جاري الحفظ...":"حفظ"}),(0,s.jsx)("button",{type:"button",onClick:()=>z(!1),className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl",children:"إلغاء"})]})]})]})]}),es&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>el(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative w-full max-w-md bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-2xl",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:(0,s.jsx)(X.A,{size:32,className:"text-red-600"})}),(0,s.jsx)("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:"رفض طلب الدفع"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"يرجى إدخال سبب الرفض ليتم إرساله للعميل"})]}),(0,s.jsx)("textarea",{value:ei,onChange:e=>ed(e.target.value),placeholder:"سبب الرفض...",rows:3,className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl border-0 font-bold mb-4"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>e_(es,"reject"),disabled:k||!ei.trim(),className:"flex-1 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 disabled:opacity-50",children:"تأكيد الرفض"}),(0,s.jsx)("button",{onClick:()=>{el(null),ed("")},className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl",children:"إلغاء"})]})]})]}),et&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ea(null),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative max-w-3xl max-h-[90vh] overflow-auto",children:[(0,s.jsx)("button",{onClick:()=>ea(null),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:(0,s.jsx)(G.A,{size:24,className:"text-white"})}),(0,s.jsx)("img",{src:et,alt:"Receipt",className:"max-w-full rounded-2xl"})]})]}),er&&(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>en(null),className:"absolute inset-0 bg-slate-950/40 backdrop-blur-md"}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white dark:bg-slate-900 rounded-[2.5rem] p-8 shadow-[0_20px_50px_rgba(0,0,0,0.2)] border border-slate-200 dark:border-slate-800 text-center overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-red-500/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-orange-500/10 rounded-full blur-3xl"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.P.div,{initial:{scale:.5,rotate:-20},animate:{scale:1,rotate:0},className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-tr from-red-500 to-orange-500 rounded-[2rem] flex items-center justify-center shadow-lg shadow-red-500/30",children:(0,s.jsx)(B.A,{size:40,className:"text-white"})}),(0,s.jsx)("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3",children:"plan"===er.type?"حذف الباقة":"حذف الحساب البنكي"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-8 leading-relaxed",children:"plan"===er.type?"هل أنت متأكد من حذف هذه الباقة؟ لا يمكن التراجع عن هذا الإجراء وسيتم إيقاف العروض المرتبطة بها.":"هل أنت متأكد من حذف هذا الحساب؟ لن يتمكن المستخدمون من اختيار هذا الحساب كخيار للدفع."}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("button",{onClick:eN,disabled:k,className:"w-full py-4 bg-gradient-to-r from-red-600 to-orange-600 text-white font-black rounded-2xl hover:shadow-lg hover:shadow-red-500/40 transition-all active:scale-95 flex items-center justify-center gap-3 disabled:opacity-50",children:[k?(0,s.jsx)(q.A,{className:"animate-spin",size:20}):(0,s.jsx)(B.A,{size:20}),"نعم، أريد الحذف"]}),(0,s.jsx)("button",{onClick:()=>en(null),className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-bold rounded-2xl hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"تراجع، إلغاء الأمر"})]})]})]})]})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 p-6 flex items-center justify-center",dir:"rtl",children:(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-900 rounded-3xl p-10 max-w-lg w-full text-center shadow-2xl border border-slate-200 dark:border-slate-800",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center",children:(0,s.jsx)(V.A,{size:40,className:"text-white"})}),(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-4",children:"إعداد نظام الاشتراكات"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"يجب إعداد جداول قاعدة البيانات أولاً لتفعيل نظام الباقات والاشتراكات"}),(0,s.jsxs)("button",{onClick:ey,disabled:k,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold rounded-2xl hover:from-blue-700 hover:to-indigo-700 transition-all disabled:opacity-50 flex items-center justify-center gap-3",children:[k?(0,s.jsx)(q.A,{size:20,className:"animate-spin"}):(0,s.jsx)(F.A,{size:20}),k?"جاري الإعداد...":"بدء الإعداد الآن"]})]})})}},61607:(e,t,a)=>{Promise.resolve().then(a.bind(a,34545))},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(2821),l=a(75889);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}}},e=>{e.O(0,[977,4909,8720,9312,8441,1255,7358],()=>e(e.s=61607)),_N_E=e.O()}]);