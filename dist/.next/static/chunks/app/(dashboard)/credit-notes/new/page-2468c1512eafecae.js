(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6735],{20508:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},26921:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},37586:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},46046:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},48055:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},52056:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},64269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(2821),r=t(75889);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},78435:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},80988:(e,s,t)=>{Promise.resolve().then(t.bind(t,94248))},87763:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("receipt-text",[["path",{d:"M13 16H8",key:"wsln4y"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M4 3a1 1 0 0 1 1-1 1.3 1.3 0 0 1 .7.2l.933.6a1.3 1.3 0 0 0 1.4 0l.934-.6a1.3 1.3 0 0 1 1.4 0l.933.6a1.3 1.3 0 0 0 1.4 0l.933-.6a1.3 1.3 0 0 1 1.4 0l.934.6a1.3 1.3 0 0 0 1.4 0l.933-.6A1.3 1.3 0 0 1 19 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1 1.3 1.3 0 0 1-.7-.2l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.934.6a1.3 1.3 0 0 1-1.4 0l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-1.4 0l-.934-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-.7.2 1 1 0 0 1-1-1z",key:"ycz6yz"}]])},90368:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},94248:(e,s,t)=>{"use strict";t.d(s,{NewCreditNoteClient:()=>D});var a=t(95155),r=t(12115),l=t(42529),i=t(6132),n=t(35299),c=t(87763),d=t(59384),o=t(52987),x=t(90368),h=t(37107),m=t(95740),p=t(26921),b=t(78435),u=t(19204),g=t(44274),j=t(89715),w=t(53409),f=t(24033),N=t(20508),v=t(19408),k=t(37586),y=t(80647),A=t(48055),z=t(46046);let S=(0,t(71847).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var R=t(52056),_=t(52619),M=t.n(_),P=t(20063),F=t(26497),C=t(8751),L=t(18720),T=t(64269),V=t(83884);function H(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{minimumFractionDigits:2,maximumFractionDigits:2},t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"0.00":new Intl.NumberFormat("en-US",s).format(t)}function D(e){let{invoices:s}=e,t=(0,V.c)("creditNotes"),{locale:_}=(0,V.Y)(),D=(0,P.useRouter)(),[E,I]=(0,r.useState)(""),[q,O]=(0,r.useState)(""),[Y,B]=(0,r.useState)(""),[Z,J]=(0,r.useState)(!1),[Q,U]=(0,r.useState)({show:!1,type:"success",title:"",message:""}),X=s.find(e=>e.id===parseInt(E)),$=X?parseFloat(String(X.total_amount))-parseFloat(String(X.total_issued)):0,G=(0,r.useMemo)(()=>{let e=parseFloat(Y)||0,s=.15*e/1.15;return{vatAmount:s,beforeVat:e-s,total:e}},[Y]),K=(e,s,t)=>{U({show:!0,type:e,title:s,message:t})},W=async e=>{if(e.preventDefault(),!E||!q||!Y)return void L.oR.error(t("new.fillingRequired"));if(parseFloat(Y)>$)return void L.oR.error("".concat(t("new.amountExceedsLimit")," (").concat($.toFixed(2)," ").concat("ar"===_?"ريال":"SAR",")"));J(!0),K("loading",t("new.saving"),t("new.creatingNote"));try{let e=await fetch("/api/credit-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:parseInt(E),reason:q,total_with_vat:parseFloat(Y)})}),s=await e.json();s.success?(K("success",t("new.save"),t("new.saveSuccess")),setTimeout(()=>{D.push("/credit-notes"),D.refresh()},1500)):K("error",t("errors.error")||"Error",s.error||t("new.saveError"))}catch(e){K("error",t("errors.error")||"Error",t("new.connectionError"))}finally{J(!1)}},ee={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return(0,a.jsxs)("div",{className:"min-h-screen pb-20 bg-transparent",children:[(0,a.jsx)(F.N,{children:Q.show&&(0,a.jsxs)(C.P.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:"fixed top-6 left-1/2 z-50 px-6 py-3 rounded-2xl shadow-2xl ".concat("success"===Q.type?"bg-gradient-to-r from-emerald-600 to-green-600":"error"===Q.type?"bg-gradient-to-r from-rose-600 to-red-600":"bg-gradient-to-r from-blue-600 to-indigo-600"," text-white font-bold flex items-center gap-3 border border-white/20 backdrop-blur-md"),children:["success"===Q.type&&(0,a.jsx)(l.A,{size:18}),"error"===Q.type&&(0,a.jsx)(i.A,{size:18}),"loading"===Q.type&&(0,a.jsx)(n.A,{size:18,className:"animate-spin"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-black text-sm",children:Q.title}),(0,a.jsx)("p",{className:"text-xs opacity-90",children:Q.message})]})]})}),(0,a.jsxs)(C.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},initial:"hidden",animate:"visible",className:"max-w-[98%] mx-auto px-4 pt-6",children:[(0,a.jsxs)("div",{className:"bg-slate-900 rounded-3xl border border-white/5 shadow-2xl overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"p-8 space-y-8 bg-slate-900 border-b border-white/5",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center shadow-lg shadow-rose-500/30 border border-white/10",children:(0,a.jsx)(c.A,{className:"text-white",size:28})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:[(0,a.jsxs)(M(),{href:"/dashboard",className:"hover:text-rose-400 transition-colors flex items-center gap-1",children:[(0,a.jsx)(d.A,{size:12}),"ar"===_?"لوحة التحكم":"Dashboard"]}),(0,a.jsx)(o.A,{size:10,className:(0,T.cn)("ar"===_&&"rotate-180")}),(0,a.jsx)(M(),{href:"/credit-notes",className:"hover:text-rose-400 transition-colors",children:t("breadcrumb")}),(0,a.jsx)(o.A,{size:10,className:(0,T.cn)("ar"===_&&"rotate-180")}),(0,a.jsx)("span",{className:"text-rose-500",children:t("new.breadcrumb")})]}),(0,a.jsx)("h1",{className:"text-2xl font-black text-white tracking-tight",children:t("new.title")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-2 px-5 py-2.5 bg-white/5 border border-white/10 rounded-2xl",children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 animate-pulse shadow-[0_0_10px_rgba(244,63,94,0.5)]"}),(0,a.jsx)("span",{className:"text-xs font-black text-rose-400 tracking-wide uppercase",children:t("zatcaCompliant")})]}),(0,a.jsx)(M(),{href:"/credit-notes",children:(0,a.jsxs)(C.P.button,{whileHover:{scale:1.02,translateX:"ar"===_?2:-2},whileTap:{scale:.98},className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-white/5 text-slate-300 hover:bg-white/10 transition-all font-black text-xs border border-white/10",children:["ar"===_?(0,a.jsx)(o.A,{size:16}):(0,a.jsx)(x.A,{size:16}),"ar"===_?"العودة للسجل":"Back to Log"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 pt-2",children:[(0,a.jsx)(C.P.div,{variants:ee,className:"relative group",children:(0,a.jsxs)("div",{className:"h-full rounded-2xl bg-gradient-to-br from-slate-600 to-slate-800 p-6 shadow-lg shadow-slate-500/20 transition-all group-hover:shadow-slate-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-2.5 bg-white/15 rounded-xl text-white backdrop-blur-md",children:(0,a.jsx)(h.A,{size:20})}),(0,a.jsx)("span",{className:"text-[10px] font-black text-white/90 bg-white/10 px-3 py-1 rounded-full border border-white/10",children:"ar"===_?"جديد":"New"})]}),(0,a.jsx)("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest",children:t("new.linkedInvoice")}),(0,a.jsx)("p",{className:"text-lg font-black text-white mt-1.5 truncate",children:(null==X?void 0:X.invoice_number)||"---"}),(0,a.jsxs)("p",{className:"text-white/50 text-[10px] font-bold mt-2 flex items-center gap-1",children:[(0,a.jsx)(m.A,{size:12}),"ar"===_?"مرتجع ضريبي":"Tax Return"]})]})}),(0,a.jsx)(C.P.div,{variants:ee,className:"relative group",children:(0,a.jsxs)("div",{className:"h-full rounded-2xl bg-gradient-to-br from-rose-500 to-pink-600 p-6 shadow-lg shadow-rose-500/20 transition-all group-hover:shadow-rose-500/30",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"p-2.5 bg-white/15 rounded-xl text-white backdrop-blur-md",children:(0,a.jsx)(p.A,{size:20})})}),(0,a.jsx)("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest",children:t("new.amountBeforeTax")}),(0,a.jsxs)("p",{className:"text-2xl font-black text-white mt-1.5 flex items-baseline gap-1 font-latin",children:[H(G.beforeVat),(0,a.jsx)("span",{className:"text-xs text-white/60 font-bold",children:"ar"===_?"ريال":"SAR"})]}),(0,a.jsxs)("p",{className:"text-white/50 text-[10px] font-bold mt-2 flex items-center gap-1",children:[(0,a.jsx)(b.A,{size:12}),t("new.netAmount")]})]})}),(0,a.jsx)(C.P.div,{variants:ee,className:"relative group",children:(0,a.jsxs)("div",{className:"h-full rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 p-6 shadow-lg shadow-amber-500/20 transition-all group-hover:shadow-amber-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-2.5 bg-white/15 rounded-xl text-white backdrop-blur-md",children:(0,a.jsx)(u.A,{size:20})}),(0,a.jsx)("span",{className:"text-[10px] font-black text-white/90 bg-white/10 px-3 py-1 rounded-full border border-white/10",children:"15%"})]}),(0,a.jsx)("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest",children:t("new.refundedVat")}),(0,a.jsxs)("p",{className:"text-2xl font-black text-white mt-1.5 flex items-baseline gap-1 font-latin",children:[H(G.vatAmount),(0,a.jsx)("span",{className:"text-xs text-white/60 font-bold",children:"ar"===_?"ريال":"SAR"})]}),(0,a.jsxs)("p",{className:"text-white/50 text-[10px] font-bold mt-2 flex items-center gap-1",children:[(0,a.jsx)(l.A,{size:12}),t("new.vatRefund")]})]})}),(0,a.jsx)(C.P.div,{variants:ee,className:"relative group",children:(0,a.jsxs)("div",{className:"h-full rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 p-6 shadow-lg shadow-emerald-500/20 transition-all group-hover:shadow-emerald-500/30",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"p-2.5 bg-white/15 rounded-xl text-white backdrop-blur-md",children:(0,a.jsx)(g.A,{size:20})})}),(0,a.jsx)("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest",children:t("new.totalIncludingVat")}),(0,a.jsxs)("p",{className:"text-2xl font-black text-white mt-1.5 flex items-baseline gap-1 font-latin",children:[H(G.total),(0,a.jsx)("span",{className:"text-xs text-white/60 font-bold",children:"ar"===_?"ريال":"SAR"})]}),(0,a.jsxs)("p",{className:"text-white/50 text-[10px] font-bold mt-2 flex items-center gap-1",children:[(0,a.jsx)(m.A,{size:12}),t("new.includingVat")]})]})})]})]}),(0,a.jsx)("div",{className:"p-8 bg-slate-900/50",children:(0,a.jsxs)("form",{onSubmit:W,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)(C.P.div,{variants:ee,className:"bg-white/5 rounded-2xl border border-white/5 shadow-xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-5",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-white/20 flex items-center justify-center backdrop-blur-sm",children:(0,a.jsx)(j.A,{className:"text-white",size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-black",children:t("new.invoiceDetails")}),(0,a.jsx)("p",{className:"text-blue-100 text-xs font-bold opacity-80",children:t("new.selectInvoiceSub")})]})]})}),(0,a.jsxs)("div",{className:"p-8 space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("label",{className:"text-xs font-black text-slate-400 uppercase flex items-center gap-2 px-1",children:[(0,a.jsx)(h.A,{size:14,className:"text-blue-500"}),t("new.selectInvoice")]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(w.A,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-500 transition-colors",size:18}),(0,a.jsxs)("select",{className:"w-full h-14 pr-12 pl-4 rounded-2xl bg-white/5 border-2 border-transparent text-sm font-black text-white focus:border-blue-500/30 focus:bg-white/10 outline-none transition-all appearance-none cursor-pointer shadow-sm hover:bg-white/10",value:E,onChange:e=>I(e.target.value),required:!0,children:[(0,a.jsx)("option",{value:"",className:"bg-slate-900",children:t("new.selectFromList")}),s.map(e=>(0,a.jsxs)("option",{value:e.id.toString(),className:"bg-slate-900 text-white",children:[e.invoice_number," - ",e.client_name," (",parseFloat(String(e.total_amount)).toLocaleString()," ","ar"===_?"ريال":"SAR",")"]},e.id))]}),(0,a.jsx)(f.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-500 transition-colors",size:18})]})]}),(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("label",{className:"text-xs font-black text-slate-400 uppercase flex items-center gap-2 px-1",children:[(0,a.jsx)(N.A,{size:14,className:"text-blue-500"}),t("new.clientName")]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.A,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),(0,a.jsx)("input",{type:"text",className:"w-full h-14 pr-12 pl-4 rounded-2xl bg-white/5 border-2 border-transparent text-sm font-black text-slate-400 cursor-not-allowed shadow-inner",value:(null==X?void 0:X.client_name)||t("new.autoSelected"),readOnly:!0})]})]})]}),(0,a.jsx)(F.N,{children:X&&(0,a.jsx)(C.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-6 bg-blue-500/5 rounded-2xl border border-blue-500/10 shadow-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block",children:t("new.invoiceTotal")}),(0,a.jsxs)("span",{className:"text-sm font-black text-white",children:[parseFloat(String(X.total_amount)).toLocaleString()," ","ar"===_?"ريال":"SAR"]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block",children:t("new.previousReturn")}),(0,a.jsxs)("span",{className:"text-sm font-black text-rose-400",children:[parseFloat(String(X.total_issued)).toLocaleString()," ","ar"===_?"ريال":"SAR"]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block",children:t("new.availableForReturn")}),(0,a.jsxs)("span",{className:"text-sm font-black text-emerald-400",children:[$.toLocaleString()," ","ar"===_?"ريال":"SAR"]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block",children:t("new.vatNumber")}),(0,a.jsx)("span",{className:"text-sm font-black text-white",children:X.client_vat||t("new.notAvailable")})]})]})})}),(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("label",{className:"text-xs font-black text-slate-400 uppercase flex items-center gap-2 px-1",children:[(0,a.jsx)(k.A,{size:14,className:"text-blue-500"}),t("new.reasonLabel")]}),(0,a.jsx)("textarea",{className:"w-full px-6 py-5 rounded-2xl bg-white/5 border-2 border-transparent text-sm font-black text-white focus:border-blue-500/30 focus:bg-white/10 outline-none transition-all min-h-[140px] resize-none shadow-sm hover:bg-white/10 placeholder:text-slate-600",placeholder:t("new.reasonPlaceholder"),value:q,onChange:e=>O(e.target.value),required:!0})]})]})]}),(0,a.jsxs)(C.P.div,{variants:ee,className:"bg-white/5 rounded-2xl border border-white/5 shadow-xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 px-6 py-5",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-white/20 flex items-center justify-center backdrop-blur-sm",children:(0,a.jsx)(y.A,{className:"text-white",size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-black",children:t("new.amountsAndTax")}),(0,a.jsx)("p",{className:"text-amber-100 text-xs font-bold opacity-80",children:t("new.enterAmount")})]})]})}),(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("label",{className:"text-xs font-black text-slate-400 uppercase flex items-center gap-2 px-1",children:[(0,a.jsx)(A.A,{size:14,className:"text-rose-500"}),t("new.amountLabel")]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("input",{type:"number",step:"0.01",className:"w-full h-14 px-6 rounded-2xl bg-rose-500/5 border-2 border-rose-500/20 text-sm font-black focus:border-rose-400 focus:bg-white/10 outline-none transition-all text-rose-400 shadow-sm",placeholder:"0.00",value:Y,onChange:e=>B(e.target.value),max:$,required:!0}),(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-rose-400 uppercase",children:"ar"===_?"ريال":"SAR"})]}),E&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-1",children:[(0,a.jsx)(i.A,{size:10,className:"text-rose-400"}),(0,a.jsxs)("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-tight",children:[t("new.maxLimit"),": ",(0,a.jsxs)("span",{className:"text-rose-400 font-black",children:[$.toLocaleString()," ","ar"===_?"ريال":"SAR"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("label",{className:"text-xs font-black text-slate-400 uppercase flex items-center gap-2 px-1",children:[(0,a.jsx)(y.A,{size:14,className:"text-slate-400"}),t("new.amountBeforeTax")]}),(0,a.jsxs)("div",{className:"w-full h-14 px-6 rounded-2xl bg-white/5 border-2 border-white/5 flex items-center justify-between shadow-inner",children:[(0,a.jsx)("span",{className:"text-sm font-black text-slate-200 font-latin",children:H(G.beforeVat)}),(0,a.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:"ar"===_?"ريال":"SAR"})]})]}),(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("label",{className:"text-xs font-black text-slate-400 uppercase flex items-center gap-2 px-1",children:[(0,a.jsx)(u.A,{size:14,className:"text-amber-500"}),t("new.vatValue")]}),(0,a.jsxs)("div",{className:"w-full h-14 px-6 rounded-2xl bg-amber-500/5 border-2 border-amber-500/10 flex items-center justify-between shadow-inner",children:[(0,a.jsx)("span",{className:"text-sm font-black text-amber-400 font-latin",children:H(G.vatAmount)}),(0,a.jsx)("span",{className:"text-[10px] font-black text-amber-500 uppercase",children:"ar"===_?"ريال":"SAR"})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(C.P.div,{variants:ee,className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl shadow-2xl p-8 text-white relative overflow-hidden border border-white/5",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-rose-500/10 rounded-full -mr-16 -mt-16 blur-3xl"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-blue-500/10 rounded-full -ml-16 -mb-16 blur-3xl"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8 relative z-10",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-2xl bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10",children:(0,a.jsx)(y.A,{className:"text-rose-400",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-black text-lg tracking-tight",children:t("new.summaryTitle")}),(0,a.jsx)("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest opacity-70",children:t("new.autoCalc")})]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8 relative z-10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-white/5 rounded-2xl border border-white/5 transition-colors hover:bg-white/10 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(w.A,{size:18,className:"text-slate-500 group-hover:text-rose-400 transition-colors"}),(0,a.jsx)("span",{className:"text-slate-400 font-black text-xs uppercase tracking-wider",children:t("new.totalIncludingVat")})]}),(0,a.jsxs)("span",{className:"font-black text-white text-lg font-latin",children:[H(G.total),(0,a.jsx)("span",{className:"text-slate-500 mr-2 text-[10px] uppercase tracking-tighter",children:"ar"===_?"ريال":"SAR"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-rose-500/10 rounded-2xl border border-rose-500/20 transition-colors hover:bg-rose-500/20 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(p.A,{size:18,className:"text-rose-400"}),(0,a.jsx)("span",{className:"text-rose-200/70 font-black text-xs uppercase tracking-wider",children:t("new.netRefund")})]}),(0,a.jsxs)("span",{className:"font-black text-rose-400 text-lg font-latin",children:[H(G.beforeVat),(0,a.jsx)("span",{className:"text-rose-300/50 mr-2 text-[10px] uppercase tracking-tighter",children:"ar"===_?"ريال":"SAR"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-amber-500/10 rounded-2xl border border-amber-500/20 transition-colors hover:bg-amber-500/20 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.A,{size:18,className:"text-amber-400"}),(0,a.jsx)("span",{className:"text-amber-200/70 font-black text-xs uppercase tracking-wider",children:t("new.totalVat")})]}),(0,a.jsxs)("span",{className:"font-black text-amber-400 text-lg font-latin",children:[H(G.vatAmount),(0,a.jsx)("span",{className:"text-amber-300/50 mr-2 text-[10px] uppercase tracking-tighter",children:"ar"===_?"ريال":"SAR"})]})]})]}),(0,a.jsx)("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent my-8 relative z-10"}),(0,a.jsx)("div",{className:"p-6 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl border border-emerald-500/30 relative z-10 shadow-lg shadow-emerald-900/20 group",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,a.jsx)(g.A,{size:20,className:"text-emerald-400"})}),(0,a.jsx)("span",{className:"text-emerald-200 font-black text-xs uppercase tracking-widest",children:t("new.totalDiscount")})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("span",{className:"text-3xl font-black text-emerald-400 tracking-tighter font-latin",children:H(G.total)}),(0,a.jsx)("span",{className:"mr-2 text-[10px] font-black text-emerald-300/50 uppercase tracking-tighter",children:"ar"===_?"ريال":"SAR"})]})]})}),(0,a.jsxs)("div",{className:"space-y-4 pt-8 relative z-10",children:[(0,a.jsxs)(C.P.button,{whileHover:{scale:1.02,translateY:-2},whileTap:{scale:.98},type:"submit",disabled:Z,className:(0,T.cn)("w-full flex items-center justify-center gap-3 px-6 py-5 rounded-2xl bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-700 hover:to-pink-700 text-white font-black text-sm transition-all shadow-xl shadow-rose-500/30",Z&&"opacity-50 cursor-not-allowed"),children:[Z?(0,a.jsx)(n.A,{size:20,className:"animate-spin"}):(0,a.jsx)(z.A,{size:20}),(0,a.jsx)("span",{children:Z?t("new.saving"):t("new.save")})]}),(0,a.jsxs)(C.P.button,{whileHover:{scale:1.02,translateY:-2},whileTap:{scale:.98},type:"button",onClick:()=>{I(""),O(""),B("")},className:"w-full flex items-center justify-center gap-3 px-6 py-5 rounded-2xl bg-white/5 hover:bg-white/10 text-white font-black text-sm transition-all border border-white/10 backdrop-blur-sm",children:[(0,a.jsx)(S,{size:20}),(0,a.jsx)("span",{children:t("new.reset")})]})]}),(0,a.jsx)("div",{className:"mt-8 p-4 bg-white/5 rounded-2xl border border-white/10 relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center gap-2.5 text-[10px] font-black text-slate-400 uppercase tracking-tight",children:[(0,a.jsx)(b.A,{size:14,className:"text-emerald-400"}),(0,a.jsxs)("span",{children:[t("new.taxNote")," - ZATCA"]})]})})]}),(0,a.jsxs)(C.P.div,{variants:ee,className:"bg-amber-500/10 p-6 rounded-3xl border border-amber-500/20 shadow-sm relative group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,a.jsx)(R.A,{size:48,className:"text-amber-400"})}),(0,a.jsxs)("div",{className:"flex gap-4 relative z-10",children:[(0,a.jsx)("div",{className:"p-3 bg-amber-500/20 rounded-2xl text-amber-400 shrink-0 h-fit shadow-sm",children:(0,a.jsx)(R.A,{size:20})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-black text-amber-200 uppercase tracking-wide",children:t("new.taxNote")}),(0,a.jsx)("p",{className:"text-xs font-bold text-amber-400/70 leading-relaxed",children:t("new.taxNoteDesc")})]})]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] pt-8 opacity-70",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,a.jsx)(m.A,{size:12,className:"text-rose-500"})}),(0,a.jsx)("span",{children:t("systemName")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-1 w-1 rounded-full bg-gray-300"}),(0,a.jsxs)("span",{children:[t("allRightsReserved")," \xa9 ",new Date().getFullYear()]})]})]})]})]})}}},e=>{e.O(0,[977,4909,2619,8720,4565,3884,8441,1255,7358],()=>e(e.s=80988)),_N_E=e.O()}]);