(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6196],{20508:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},67431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(95155),a=s(12115),l=s(35497),i=s(20508);let n=(0,l.UU)("https://xaexoopjqkrzhbochbef.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhhZXhvb3BqcWtyemhib2NoYmVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzMjIxMzMsImV4cCI6MjA4Mzg5ODEzM30.SJ8QyojN2vkUKIbE35e4AYNy_IbiyeBu9r5oI8YBXms");function c(e){let{params:t}=e,{id:s}=(0,a.use)(t),[l,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(new Date);if((0,a.useEffect)(()=>{n.from("employees").select("*").eq("id",s).single().then(e=>{let{data:t}=e;t&&(c(t),o(new Date))});let e=n.channel("emp").on("postgres_changes",{event:"*",schema:"public",table:"employees",filter:"id=eq.".concat(s)},e=>{e.new&&(c(e.new),o(new Date))}).subscribe();return()=>{n.removeChannel(e)}},[s]),!l)return(0,r.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin h-16 w-16 border-4 border-blue-500 border-t-transparent rounded-full"})});let h=l.iqama_expiry?Math.ceil((new Date(l.iqama_expiry).getTime()-Date.now())/864e5):0,m=h<0?"red":h<=30?"orange":"green";return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-8",dir:"rtl",children:[(0,r.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-2 text-white/60 text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),(0,r.jsxs)("span",{children:["Live | ",d.toLocaleTimeString("en-US")]})]}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 flex items-center gap-8",children:[(0,r.jsx)("div",{className:"relative",children:l.personal_photo?(0,r.jsx)("img",{src:l.personal_photo,alt:"",className:"w-32 h-32 rounded-full object-cover border-4 border-white/30"}):(0,r.jsx)("div",{className:"w-32 h-32 rounded-full bg-white/20 flex items-center justify-center border-4 border-white/30",children:(0,r.jsx)(i.A,{size:48,className:"text-white/70"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:l.name}),(0,r.jsx)("p",{className:"text-white/70 text-xl",children:l.job_title||"غير محدد"}),(0,r.jsxs)("span",{className:"mt-4 inline-block px-4 py-1.5 rounded-full text-sm font-bold ".concat("green"===m?"bg-green-500/20 text-green-300":"orange"===m?"bg-orange-500/20 text-orange-300":"bg-red-500/20 text-red-300"),children:[h<0?"منتهية":h<=30?"على وشك":"سارية"," (",Math.abs(h)," يوم)"]})]})]}),(0,r.jsxs)("div",{className:"p-8 grid grid-cols-2 gap-4 text-white",children:[(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,r.jsx)("span",{className:"text-white/60 text-sm",children:"رقم الإقامة"}),(0,r.jsx)("p",{className:"font-bold",children:l.iqama_number||"-"})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,r.jsx)("span",{className:"text-white/60 text-sm",children:"الجنسية"}),(0,r.jsx)("p",{className:"font-bold",children:l.nationality||"-"})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,r.jsx)("span",{className:"text-white/60 text-sm",children:"الهاتف"}),(0,r.jsx)("p",{className:"font-bold",children:l.phone||"-"})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,r.jsx)("span",{className:"text-white/60 text-sm",children:"البريد"}),(0,r.jsx)("p",{className:"font-bold truncate",children:l.email||"-"})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,r.jsx)("span",{className:"text-white/60 text-sm",children:"لوحة المركبة"}),(0,r.jsx)("p",{className:"font-bold",children:l.vehicle_plate||"-"})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,r.jsx)("span",{className:"text-white/60 text-sm",children:"انتهاء الإقامة"}),(0,r.jsx)("p",{className:"font-bold",children:l.iqama_expiry||"-"})]})]})]})]})}},71847:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:c?24*Number(n)/Number(a):n,className:l("lucide",d),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:c,...d}=s;return(0,r.createElement)(n,{ref:i,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...d})});return s.displayName=a(e),s}},94702:(e,t,s)=>{Promise.resolve().then(s.bind(s,67431))}},e=>{e.O(0,[5376,5497,8441,1255,7358],()=>e(e.s=94702)),_N_E=e.O()}]);